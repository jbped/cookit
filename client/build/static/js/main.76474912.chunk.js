(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{220:function(e,t,r){},221:function(e,t,r){},229:function(e,t,r){"use strict";r.r(t);var n=r(4),i=r(2),c=r.n(i),a=r(55),s=r.n(a),o=(r(220),r(36)),d=(r(221),r(155)),l=Object(d.a)({palette:{mode:"dark",primary:{main:"#e76f51",light:"#EB8B73",dark:"#A14D38",contrastText:"#f5f5f5"},secondary:{main:"#ffca3a",light:"#FFD461",dark:"#B28D28",contrastText:"#000000"},backdrop:{main:"#046e8f",light:"#368BA5",dark:"#024D64",contrastText:"#f5f5f5"},light:{main:"#f5f5f5",contrastText:"#000000"},grey:{main:"#e0e0e0"},text:{primary:"#f5f5f5",secondary:"#ffca3a",tertiary:"#e76f51",light:"#f5f5f5"},background:{default:"#022f40",paper:"#03435b"}},components:{MuiAppBar:{defaultProps:{enableColorOnDark:!0,color:"backdrop"}}},typography:{fontFamily:["Poppins"].join(","),button:{textTransform:"none"}}}),j=r(25),b=r.n(j),p=r(33),u=r(20),x=r(5),O=r(16),m=r(14),g=r(133),h={darkMode:!1,newRecipe:{recipeTitle:"New Recipe",type:[],cookTime:"",servings:1,isPublic:"private",recipeDescription:"",ingredients:{},directions:{},columns:{ingredientsCol:{id:"ingredientsCol",title:"Ingredients",itemIds:[]},directionsCol:{id:"directionsCol",title:"Directions",itemIds:[]},deleteIngCol:{id:"deleteIngCol",title:"Delete",itemIds:[],deletedIds:[]},deleteDirCol:{id:"deleteDirCol",title:"Delete",itemIds:[],deletedIds:[]}},ingredientErrors:[],directionErrors:[],formCleared:!1},editRecipe:{recipeTitle:"",type:[],cookTime:"",servings:1,isPublic:"private",recipeDescription:"",ingredients:{},directions:{},columns:{ingredientsCol:{id:"ingredientsCol",title:"Ingredients",itemIds:[]},directionsCol:{id:"directionsCol",title:"Directions",itemIds:[]},deleteIngCol:{id:"deleteIngCol",title:"Delete",itemIds:[],deletedIds:[]},deleteDirCol:{id:"deleteDirCol",title:"Delete",itemIds:[],deletedIds:[]}},ingredientErrors:[],directionErrors:[],formCleared:!1,deleteDialog:!1},currentRecipe:{},easyCookView:!1,easyCookStep:0,myKitView:!0,discoverView:!0,sideNavVisible:!1},f=Object(g.b)({name:"global",initialState:h,reducers:{toggleDarkMode:function(e){e.darkMode=!e.darkMode},newRecipe:function(e,t){Object.keys(t.payload).forEach((function(r){e.newRecipe[r]=t.payload[r]}))},editThisRecipe:function(e,t){Object.keys(t.payload).forEach((function(r){e.editRecipe[r]=t.payload[r]}))},toggleDeleteDialog:function(e){e.editRecipe.deleteDialog=!e.editRecipe.deleteDialog},createEditRecipe:function(e,t){e.editRecipe=t.payload},currentRecipe:function(e,t){e.currentRecipe=t.payload},toggleEasyCookView:function(e){e.easyCookView=!e.easyCookView},setEasyCookStep:function(e,t){e.easyCookStep=t.payload},toggleMyKitView:function(e){e.myKitView=!e.myKitView},toggleDiscoverView:function(e){e.discoverView=!e.discoverView},sideNavVisible:function(e){e.sideNavVisible=!e.sideNavVisible}}}),v=f.actions,y=f.reducer,I=(v.toggleDarkMode,v.newRecipe),w=v.editThisRecipe,k=v.createEditRecipe,C=(v.currentRecipe,v.toggleEasyCookView),T=v.setEasyCookStep,R=v.toggleMyKitView,D=v.toggleDiscoverView,S=v.toggleDeleteDialog,E=v.sideNavVisible,P=y,z=r(270),N=r(303),$=r(137),_=r(307),q=r(314),B=r(315),A=r(312),L=r(125),W=r.n(L),V=r(276),G=r(277),F=r(169),U=r(1);function K(){var e=Object(m.d)((function(e){return e.global.newRecipe.formCleared})),t=Object(i.useState)([]),r=Object(O.a)(t,2),n=r[0],c=r[1],a=Object(o.h)();Object(i.useEffect)((function(){return a.listen((function(e){"PUSH"===a.action&&c([e.key]),"POP"===a.action&&(n[1]===e.key?(c((function(e){var t=Object(F.a)(e);t[0];return t.slice(1)})),s()):(c((function(t){return[e.key].concat(Object(u.a)(t))})),s()))}))}),[n]),Object(i.useEffect)((function(){return window.addEventListener("beforeunload",s),function(){window.removeEventListener("beforeunload",s)}}),[]);var s=function(e){e&&e.preventDefault(),e.returnValue=""};return Object(U.jsx)(o.a,{when:!e,message:function(){return"You have unsaved changes! Please save your recipe before leaving!"}})}var M=r(287),H=r(310),Q=r(28);function J(){var e=Object(i.useState)(!1),t=Object(O.a)(e,2),r=t[0],n=t[1],c=Object(m.d)((function(e){return e.global.newRecipe})),a=Object(m.c)();return Object(U.jsx)(z.a,{sx:{display:"flex",alignItems:"center",pt:2,borderBottom:1,borderColor:"divider"},children:r||r.length?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(M.a,{id:"recipe-name",label:"Recipe Name",name:"recipeTitle",size:"small",color:"backdrop",defaultValue:c.recipeTitle,InputLabelProps:{shrink:!0,color:"secondary"},sx:{margin:"6px 0 5px 0"},onBlur:function(e){e.target.value.length&&a(I(Object(x.a)({},e.target.name,e.target.value)))}}),Object(U.jsx)(H.a,{onClick:function(e){n(!1)},sx:{ml:2},children:Object(U.jsx)(Q.f,{size:25})})]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)($.a,{variant:"h4",fontWeight:"bold",color:"primary",children:c.recipeTitle}),Object(U.jsx)(H.a,{onClick:function(){return n(!0)},children:Object(U.jsx)(Q.c,{size:25,sx:{marginLeft:"2rem"}})})]})})}var Y=r(311);function X(){var e=Object(m.d)((function(e){return e.global.newRecipe})),t=Object(m.c)();return Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center"},children:[Object(U.jsx)(Q.a,{size:25,style:{marginRight:"1rem"}}),Object(U.jsx)(M.a,{id:"time-to-serve",name:"cookTime",select:!0,size:"small",placeholder:"Total Time",value:e.cookTime,onChange:function(e){t(I(Object(x.a)({},e.target.name,e.target.value)))},color:"backdrop",sx:{flexGrow:1},children:["10 minutes","20 minutes","30 minutes","40 minutes","50 minutes","1 hour","1 hour 15 minutes","1 hour 30 minutes","1 hour 45 minutes","2 hours","2 hours 15 minutes","2 hours 30 minutes","2 hours 45 minutes","3 hours","3 hours 30 minutes","4 hours","4 hours 30 minutes","5 hours","5 hours 30 minutes","6 hours","6 hours 30 minutes","7 hours","7 hours 30 minutes","8 hours","8 hours 30 minutes","9 hours","9 hours 30 minutes","10 hours","10 hours 30 minutes","11 hours","11 hours 30 minutes","12 hours","13 hours","14 hours","15 hours","16 hours","17 hours","18 hours","19 hours","20 hours","21 hours","22 hours","23 hours","24 hours",">24 hours"].map((function(e){return Object(U.jsx)(Y.a,{value:e,children:e},e)}))})]})}var Z=r(95);r(93);function ee(){var e=Object(m.d)((function(e){return e.global.newRecipe})),t=Object(m.c)(),r=function(r){if("+"===r.target.innerText){var n=e.servings+1;t(I({servings:n}))}else if(e.servings>1){var i=e.servings-1;t(I({servings:i}))}};return Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center",mt:2},children:[Object(U.jsx)(Z.a,{size:25,style:{marginRight:"1rem"}}),Object(U.jsx)(A.a,{variant:"contained",onClick:r,color:"secondary",style:{borderTopRightRadius:0,borderBottomRightRadius:0,height:"40px",minWidth:"30px",maxWidth:"30px",boxShadow:"2px 0px 2px 0px #00000040",fontSize:22},children:"-"}),Object(U.jsx)("div",{className:"TextField-without-border-radius",children:Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",name:"servings",value:e.servings,sx:{width:60},inputProps:{inputMode:"numeric",pattern:"[0-9]*",min:0,style:{textAlign:"center"}},onBlur:function(e){t(I(Object(x.a)({},e.target.name,e.target.value)))}})}),Object(U.jsx)(A.a,{variant:"contained",onClick:r,color:"secondary",sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,height:"40px",minWidth:"30px",maxWidth:"30px",boxShadow:"-2px 0px 2px 0px #00000040",fontSize:22},children:"+"})]})}var te=r(302),re=r(313),ne=r(119);function ie(){var e=Object(m.d)((function(e){return e.global.newRecipe})),t=Object(m.c)();return Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center",mt:2},children:[Object(U.jsx)(ne.a,{size:25,style:{marginRight:"1rem"}}),Object(U.jsxs)(te.a,{color:"primary",name:"isPublic",value:e.isPublic,exclusive:!0,onChange:function(e){t(I(Object(x.a)({},e.target.name,e.target.value)))},sx:{flexGrow:1,display:"flex",height:"40px"},children:[Object(U.jsx)(re.a,{value:"private",name:"isPublic",color:"secondary",sx:{flexGrow:1},children:"Private"}),Object(U.jsx)(re.a,{value:"public",name:"isPublic",color:"secondary",sx:{flexGrow:1},children:"Public"})]})]})}function ce(){var e=Object(m.d)((function(e){return e.global.newRecipe})),t=Object(m.c)(),r=e.recipeDescription;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(z.a,{sx:{mt:3,borderBottom:1,borderColor:"divider"},children:Object(U.jsx)($.a,{variant:"h5",color:"primary",children:"Description"})}),Object(U.jsx)(_.a,{sx:{p:2,boxShadow:4,mt:2},children:Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",label:"Description",name:"recipeDescription",type:"text",multiline:!0,defaultValue:r,sx:{width:"100%",borderTopRightRadius:0,borderBottomRightRadius:0,flexGrow:"1"},fullWidth:!0,color:"backdrop",InputLabelProps:{shrink:!0,color:"secondary"},onBlur:function(e){t(I(Object(x.a)({},e.target.name,e.target.value)))}})})]})}var ae,se=r(21),oe=r(32),de=r(81),le=r(82),je=r(80),be=r.n(je);function pe(e){var t=e.ing,r=e.index,i=Object(m.d)((function(e){return e.global.newRecipe})),c=Object(m.c)(),a=i.ingredients,s=Object(n.a)({},a[t.ingredientId]),o=s.ingredientId,d=s.quantity,l=s.measurementTypeShort,j=s.ingredient,b=s.notes,p=s.errors,u=[{type:"Not applicable",short:"n/a"},{type:"teaspoon(s)",short:"tsp"},{type:"tablespoon(s)",short:"Tbsp"},{type:"cup(s)",short:"c"},{type:"ounces(s)",short:"oz"},{type:"pound(s)",short:"lbs"},{type:"gram(s)",short:"g"},{type:"kilogram(s)",short:"kg"},{type:"fluid ounce(s)",short:"fl oz"},{type:"pint(s)",short:"pt"},{type:"quart(s)",short:"qt"},{type:"gallon(s)",short:"gal"},{type:"milliliter(s)",short:"mL"},{type:"liter(s)",short:"L"}],O=function(e){var t=Object(n.a)({},s);if("measurementType"===e.target.name){var r=u.find((function(t){return t.short===e.target.value})),i=r.type,d=r.short;t=Object(n.a)(Object(n.a)({},t),{},{measurementType:i,measurementTypeShort:d})}else t=Object(n.a)(Object(n.a)({},t),{},Object(x.a)({},e.target.name,e.target.value));c(I({ingredients:Object(n.a)(Object(n.a)({},a),{},Object(x.a)({},o,t))}))};return Object(U.jsx)(oe.b,{draggableId:o,index:r,children:function(e){return Object(U.jsx)("div",Object(n.a)(Object(n.a)({id:o},e.draggableProps),{},{ref:e.innerRef,children:Object(U.jsxs)(_.a,{sx:{mt:2,py:2,width:"100%",border:1,borderRadius:1,boxShadow:4,borderColor:"backdrop.dark"},children:[Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center",mx:2},children:[Object(U.jsx)("div",{className:"TextField-no-border-right",children:Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",label:"Quantity",name:"quantity",type:"text",defaultValue:d,error:p.quantity,color:"backdrop",sx:{width:100,borderTopRightRadius:0,borderBottomRightRadius:0,flexGrow:"1"},InputLabelProps:{shrink:!0,color:"secondary"},onBlur:O})}),Object(U.jsx)("div",{className:"TextField-no-border-left",style:{marginLeft:"-1px"},children:Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",select:!0,label:"Type",name:"measurementType",value:l,color:"backdrop",InputLabelProps:{shrink:!0,color:"secondary"},SelectProps:{renderValue:function(e){return e}},sx:{width:80,borderTopLeftRadius:0,borderBottomLeftRadius:0},onChange:O,children:u.map((function(e){return Object(U.jsxs)(Y.a,{value:e.short,children:[e.type," - ",e.short]},e.short)}))})}),Object(U.jsx)(z.a,Object(n.a)(Object(n.a)({component:"div"},e.dragHandleProps),{},{sx:{marginLeft:"auto",px:2,py:1,color:"grey"},children:Object(U.jsx)(be.a,{size:15,color:"grey"})}))]}),p.ingredient&&Object(U.jsx)($.a,{variant:"subtitle2",color:"error",sx:{mx:2},children:"Ingredient quantity is required"}),Object(U.jsxs)(z.a,{sx:{mt:2,mx:2},children:[Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",label:"Ingredient",name:"ingredient",type:"text",defaultValue:j,error:p.ingredient,color:"backdrop",sx:{width:"100%",borderTopRightRadius:0,borderBottomRightRadius:0,flexGrow:"1"},fullWidth:!0,InputLabelProps:{shrink:!0,color:"secondary"},onBlur:O}),p.ingredient&&Object(U.jsx)($.a,{variant:"subtitle2",color:"error",children:"Please provide an ingredient"})]}),Object(U.jsx)(z.a,{sx:{mt:2,mx:2},children:Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",label:"Notes",name:"notes",type:"text",multiline:!0,defaultValue:b,color:"backdrop",sx:{width:"100%",borderTopRightRadius:0,borderBottomRightRadius:0,flexGrow:"1"},fullWidth:!0,InputLabelProps:{shrink:!0,color:"secondary"},onBlur:O})})]})}))}})}var ue,xe=de.a.div(ae||(ae=Object(se.a)(["\n  margin: 16px 0 0 0;\n  padding-top: ",";\n  padding-left:  ","; \n  padding-right:  ","; \n  min-height: 5vh;\n  border-radius: 4px;\n  text-align: center;\n  background-color: ",";\n  color: ",";\n\n"])),(function(e){return(e.isDraggingOver||e.hasItem.length>0)&&"16px"}),(function(e){return(e.isDraggingOver||e.hasItem.length>0)&&"16px"}),(function(e){return(e.isDraggingOver||e.hasItem.length>0)&&"16px"}),(function(e){return e.isDraggingOver||e.hasItem.length>0?"#ef5350":"inherit"}),(function(e){return e.isDraggingOver||e.hasItem.length>0?"#000000":"inherit"}));function Oe(){var e=Object(m.d)((function(e){return e.global.newRecipe})),t=Object(m.c)(),r=Object(i.useState)(1),c=Object(O.a)(r,2),a=c[0],s=c[1],o=e.columns,d=e.ingredients,l=o.ingredientsCol,j=o.deleteIngCol,g=o.deleteIngCol.deletedIds,h=o.ingredientsCol.itemIds,f=function(){var e=Array.from(j.itemIds),r=Array.from(l.itemIds).concat(e),i={columns:Object(n.a)(Object(n.a)({},o),{},{ingredientsCol:Object(n.a)(Object(n.a)({},l),{},{itemIds:r}),deleteIngCol:Object(n.a)(Object(n.a)({},j),{},{itemIds:[]})})};t(I(i))},v=function(){var e=Object(p.a)(b.a.mark((function e(){var r,i,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.from(j.itemIds),i=Object(n.a)({},d),c=g.concat(r),e.next=5,r.forEach((function(e){delete i[e]}));case 5:return a={columns:Object(n.a)(Object(n.a)({},o),{},{deleteIngCol:Object(n.a)(Object(n.a)({},j),{},{itemIds:[],deletedIds:c})})},e.next=8,t(I(a));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(z.a,{sx:{mt:3,borderBottom:1,borderColor:"divider"},children:Object(U.jsx)($.a,{variant:"h5",color:"primary",children:"Ingredients"})}),Object(U.jsxs)(oe.a,{onDragEnd:function(e){var r,i=e.destination,c=e.source,a=e.draggableId;if(i&&(i.droppableId!==c.droppableId||i.index!==c.index)){var s=o[c.droppableId],d=o[i.droppableId];if(s!==d){var l=Array.from(s.itemIds);l.splice(c.index,1);var j=Object(n.a)(Object(n.a)({},s),{},{itemIds:l}),b=Array.from(d.itemIds);b.splice(i.index,0,a);var p=Object(n.a)(Object(n.a)({},d),{},{itemIds:b}),u={columns:Object(n.a)(Object(n.a)({},o),{},(r={},Object(x.a)(r,j.id,j),Object(x.a)(r,p.id,p),r))};t(I(u))}else{var O=Array.from(s.itemIds);O.splice(c.index,1),O.splice(i.index,0,a);var m=Object(n.a)(Object(n.a)({},s),{},{itemIds:O}),g={columns:Object(n.a)(Object(n.a)({},o),{},Object(x.a)({},m.id,m))};t(I(g))}}},children:[Object(U.jsx)(oe.c,{droppableId:l.id,children:function(e){return Object(U.jsxs)(z.a,Object(n.a)(Object(n.a)({component:"div",ref:e.innerRef},e.droppableProps),{},{children:[h.map((function(e,t){return Object(U.jsx)(pe,{ing:d[e],index:t},d[e].ingredientId)})),e.placeholder]}))}}),Object(U.jsx)(oe.c,{droppableId:j.id,children:function(e,t){return Object(U.jsx)(U.Fragment,{children:l.itemIds.length>0||j.itemIds.length>0?Object(U.jsxs)(xe,Object(n.a)(Object(n.a)({ref:e.innerRef},e.droppableProps),{},{isDraggingOver:t.isDraggingOver,hasItem:j.itemIds,children:[Object(U.jsxs)(z.a,{sx:{display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"center"},children:[Object(U.jsx)(le.a,{}),Object(U.jsxs)($.a,{style:{fontStyle:"italic",fontSize:"16px",margin:0,padding:0},children:["\xa0",0===j.itemIds.length?"Drop an ingredient here":"Items selected to delete"]})]}),o.deleteIngCol.itemIds.map((function(e,t){return Object(U.jsx)(pe,{ing:d[e],index:t},d[e].ingredientId)})),e.placeholder,j.itemIds.length>0&&Object(U.jsxs)(z.a,{sx:{display:"flex",flexWrap:"nowrap",alignItems:"center",p:2,borderRadius:"0 0 4",justifyContent:"end"},children:[Object(U.jsx)(A.a,{variant:"text",color:"secondary",size:"small",sx:{marginRight:2},onClick:f,children:"Cancel"}),Object(U.jsx)(A.a,{size:"small",variant:"contained",color:"secondary",onClick:v,children:"Delete"})]})]})):Object(U.jsx)(z.a,Object(n.a)(Object(n.a)({component:"div",ref:e.innerRef},e.droppableProps),{},{style:{display:"none"},children:e.placeholder}))})}})]}),Object(U.jsxs)(A.a,{variant:"text",sx:{textTransform:"none",fontSize:16,fontStyle:"italic",color:"primary"},onClick:function(){var e="ingredient-".concat(a);s(a+1);var r=[].concat(Object(u.a)(h),[e]);t(I({ingredients:Object(n.a)(Object(n.a)({},d),{},Object(x.a)({},e,{ingredientId:e,quantity:"",measurementType:"",measurementTypeShort:"",ingredient:"",notes:"",errors:{quantity:!1,ingredient:!1}})),columns:Object(n.a)(Object(n.a)({},o),{},{ingredientsCol:Object(n.a)(Object(n.a)({},l),{},{itemIds:r})})}))},children:[Object(U.jsx)(Q.d,{}),"\xa0Add a new ingredient"]})]})}function me(e){var t=e.step,r=e.index,i=Object(m.d)((function(e){return e.global.newRecipe})),c=Object(m.c)(),a=i.directions,s=Object(n.a)({},a[t.stepId]),o=s.stepId,d=s.stepText,l=s.errors,j=function(e){var t=Object(n.a)({},s);t=Object(n.a)(Object(n.a)({},t),{},Object(x.a)({},e.target.name,e.target.value)),c(I({directions:Object(n.a)(Object(n.a)({},a),{},Object(x.a)({},o,t))}))};return Object(U.jsx)(oe.b,{draggableId:o,index:r,children:function(e){return Object(U.jsx)(z.a,Object(n.a)(Object(n.a)({component:"div",id:o},e.draggableProps),{},{ref:e.innerRef,children:Object(U.jsxs)(_.a,{sx:{mt:2,py:2,width:"100%",border:1,borderRadius:1,boxShadow:4,borderColor:"backdrop.dark"},children:[Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center"},children:[Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",label:"Step",name:"stepText",type:"text",multiline:!0,defaultValue:d,error:l.stepText,color:"backdrop",sx:{width:"100%",borderTopRightRadius:0,borderBottomRightRadius:0,flexGrow:"1",ml:2},fullWidth:!0,InputLabelProps:{shrink:!0,color:"secondary"},onBlur:j}),Object(U.jsx)(z.a,Object(n.a)(Object(n.a)({component:"div"},e.dragHandleProps),{},{sx:{marginLeft:"auto",px:2,py:1,color:"grey"},children:Object(U.jsx)(be.a,{size:15,color:"grey"})}))]}),l.stepText&&Object(U.jsx)($.a,{variant:"subtitle2",color:"error",sx:{mx:2},children:"Please provide information for this step"})]})}))}})}var ge=de.a.div(ue||(ue=Object(se.a)(["\n  margin: 16px 0 0 0;\n  padding-top: ",";\n  padding-left:  ","; \n  padding-right:  ","; \n  min-height: 5vh;\n  border-radius: 4px;\n  text-align: center;\n  background-color: ",";\n  color: ",";\n"])),(function(e){return(e.isDraggingOver||e.hasItem.length>0)&&"16px"}),(function(e){return(e.isDraggingOver||e.hasItem.length>0)&&"16px"}),(function(e){return(e.isDraggingOver||e.hasItem.length>0)&&"16px"}),(function(e){return e.isDraggingOver||e.hasItem.length>0?"#ef5350":"inherit"}),(function(e){return e.isDraggingOver||e.hasItem.length>0?"#000000":"inherit"}));function he(){var e=Object(m.d)((function(e){return e.global.newRecipe})),t=Object(m.c)(),r=Object(i.useState)(1),c=Object(O.a)(r,2),a=c[0],s=c[1],o=e.columns,d=e.directions,l=o.directionsCol,j=o.deleteDirCol,g=o.deleteDirCol.deletedIds,h=o.directionsCol.itemIds,f=function(){var e=Array.from(j.itemIds),r=Array.from(l.itemIds).concat(e),i={columns:Object(n.a)(Object(n.a)({},o),{},{directionsCol:Object(n.a)(Object(n.a)({},l),{},{itemIds:r}),deleteDirCol:Object(n.a)(Object(n.a)({},j),{},{itemIds:[]})})};t(I(i))},v=function(){var e=Object(p.a)(b.a.mark((function e(){var r,i,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.from(j.itemIds),i=Object(n.a)({},d),c=g.concat(r),e.next=5,r.forEach((function(e){delete i[e]}));case 5:return a={columns:Object(n.a)(Object(n.a)({},o),{},{deleteDirCol:Object(n.a)(Object(n.a)({},j),{},{itemIds:[],deletedIds:c})})},e.next=8,t(I(a));case 8:console.log("newColState",o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(z.a,{sx:{mt:3,borderBottom:1,borderColor:"divider"},children:Object(U.jsx)($.a,{variant:"h5",color:"primary",children:"Directions"})}),Object(U.jsxs)(oe.a,{onDragEnd:function(e){var r,i=e.destination,c=e.source,a=e.draggableId;if(i&&(i.droppableId!==c.droppableId||i.index!==c.index)){var s=o[c.droppableId],d=o[i.droppableId];if(s!==d){var l=Array.from(s.itemIds);l.splice(c.index,1);var j=Object(n.a)(Object(n.a)({},s),{},{itemIds:l}),b=Array.from(d.itemIds);b.splice(i.index,0,a);var p=Object(n.a)(Object(n.a)({},d),{},{itemIds:b}),u={columns:Object(n.a)(Object(n.a)({},o),{},(r={},Object(x.a)(r,j.id,j),Object(x.a)(r,p.id,p),r))};t(I(u))}else{var O=Array.from(s.itemIds);O.splice(c.index,1),O.splice(i.index,0,a);var m=Object(n.a)(Object(n.a)({},s),{},{itemIds:O}),g={columns:Object(n.a)(Object(n.a)({},o),{},Object(x.a)({},m.id,m))};t(I(g))}}},children:[Object(U.jsx)(oe.c,{droppableId:l.id,children:function(e){return Object(U.jsxs)(z.a,Object(n.a)(Object(n.a)({component:"div",ref:e.innerRef},e.droppableProps),{},{children:[h.map((function(e,t){return Object(U.jsx)(me,{step:d[e],index:t},d[e].stepId)})),e.placeholder]}))}}),Object(U.jsx)(oe.c,{droppableId:j.id,children:function(e,t){return Object(U.jsx)(U.Fragment,{children:l.itemIds.length>0||j.itemIds.length>0?Object(U.jsxs)(ge,Object(n.a)(Object(n.a)({ref:e.innerRef},e.droppableProps),{},{isDraggingOver:t.isDraggingOver,hasItem:j.itemIds,children:[Object(U.jsxs)(z.a,{sx:{display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"center"},children:[Object(U.jsx)(le.a,{}),Object(U.jsxs)($.a,{style:{fontStyle:"italic",fontSize:"16px",margin:0,padding:0},children:["\xa0",0===j.itemIds.length?"Drop a step here":"Steps selected to delete"]})]}),j.itemIds.map((function(e,t){return Object(U.jsx)(me,{step:d[e],index:t},d[e].stepId)})),e.placeholder,j.itemIds.length>0&&Object(U.jsxs)(z.a,{sx:{display:"flex",flexWrap:"nowrap",alignItems:"center",p:2,borderRadius:"0 0 4",justifyContent:"end"},children:[Object(U.jsx)(A.a,{variant:"text",size:"small",color:"secondary",sx:{marginRight:2},onClick:f,children:"Cancel"}),Object(U.jsx)(A.a,{size:"small",variant:"contained",color:"secondary",onClick:v,children:"Delete"})]})]})):Object(U.jsx)(z.a,Object(n.a)(Object(n.a)({component:"div",ref:e.innerRef},e.droppableProps),{},{style:{display:"none"},children:e.placeholder}))})}})]}),Object(U.jsxs)(A.a,{variant:"text",sx:{textTransform:"none",fontSize:16,fontStyle:"italic"},onClick:function(){var e="step-".concat(a);s(a+1);var r=[].concat(Object(u.a)(h),[e]);t(I({directions:Object(n.a)(Object(n.a)({},d),{},Object(x.a)({},e,{stepId:e,stepText:"",errors:{stepText:!1}})),columns:Object(n.a)(Object(n.a)({},o),{},{directionsCol:Object(n.a)(Object(n.a)({},l),{},{itemIds:r})})}))},children:[Object(U.jsx)(Q.d,{}),"\xa0Add a new step"]})]})}var fe,ve,ye,Ie,we,ke,Ce,Te,Re,De,Se=r(305),Ee=r(291),Pe=Object(Ee.a)(fe||(fe=Object(se.a)(["\n    mutation AddUser($Username: String!, $Email: String!, $Password: String!) {\n        addUser(username: $Username, email: $Email, password: $Password) {\n            token\n            user {\n                _id\n                username\n                email\n            }\n        }\n    }\n"]))),ze=Object(Ee.a)(ve||(ve=Object(se.a)(["\n    mutation Login($Username: String!, $Password: String!) {\n        login(username: $Username, password: $Password) {\n            token\n            user {\n            _id\n            }\n        }\n    }\n"]))),Ne=(Object(Ee.a)(ye||(ye=Object(se.a)(["\n    mutation addIngredient($ingredientName: String!, $measurement: String, $quantity: String, $preparationNotes: String) {\n        addIngredient(ingredientName: $ingredientName, measurement: $measurement, quantity: $quantity, preparationNotes: $preparationNotes) {\n            ingredientName\n            measurement\n            quantity\n            preparationNotes\n        }\n    }\n"]))),Object(Ee.a)(Ie||(Ie=Object(se.a)(["\n    mutation addRecipe($isPublic: Boolean!, $recipeTitle: String!, $recipeDescription: String!,  $servings: Int!, $cookTime: String!, $directions: [directionInput], $ingredients: [ingredientInput],  $directionsOrder: [String], $ingredientsOrder: [String]) {\n        addRecipe(isPublic: $isPublic, recipeTitle: $recipeTitle, recipeDescription: $recipeDescription, servings: $servings, cookTime: $cookTime, directions: $directions, ingredients: $ingredients, directionsOrder: $directionsOrder, ingredientsOrder: $ingredientsOrder) {\n            _id\n            creator\n        isPublic\n            createdAt\n            recipeDescription\n        recipeTitle\n            servings\n            cookTime\n            directions {\n            _id\n            stepText\n            stepId\n            }\n        forked\n            ingredients {\n            _id\n            ingredientName\n            measurement\n            quantity\n            preparationNotes\n            ingredientId\n            }\n            comments {\n            _id\n            commentText\n            createdAt\n            username\n            upvotes {\n                _id\n                username\n            }\n            }\n            upvotes {\n            _id\n            username\n            }\n            directionsOrder\n            ingredientsOrder\n        }\n    }\n"])))),$e=Object(Ee.a)(we||(we=Object(se.a)(["\n    mutation saveRecipe($recipeId: ID) {\n        saveRecipe(recipeId: $recipeId) {\n            _id\n        }\n    }\n"]))),_e=Object(Ee.a)(ke||(ke=Object(se.a)(["\n    mutation DeleteRecipe($id: ID) {\n        deleteRecipe(_id: $id) {\n            _id\n            isPublic\n            creator\n            createdAt\n            recipeDescription\n            recipeTitle\n        }\n    }\n"]))),qe=Object(Ee.a)(Ce||(Ce=Object(se.a)(["\n    mutation editRecipe($recipeId: ID!, $isPublic: Boolean!, $recipeTitle: String!, $recipeDescription: String!,  $servings: Int!, $cookTime: String!, $directions: [directionInput], $ingredients: [ingredientInput],  $directionsOrder: [String], $ingredientsOrder: [String]) {\n        editRecipe(recipeId: $recipeId, isPublic: $isPublic, recipeTitle: $recipeTitle, recipeDescription: $recipeDescription, servings: $servings, cookTime: $cookTime, directions: $directions, ingredients: $ingredients, directionsOrder: $directionsOrder, ingredientsOrder: $ingredientsOrder) {\n            _id\n            isPublic,\n            creator,\n            recipeTitle,\n            recipeDescription,\n            type,\n            season,\n            difficulty,\n            servings,\n            cookTime,\n            forked,\n            directions {\n                stepText\n                stepId\n            }\n            ingredients {\n                ingredientName\n                measurement\n                quantity\n                preparationNotes\n                ingredientId\n            }\n            cookware {\n                cookwareName\n            }\n            directionsOrder\n            ingredientsOrder\n        }\n    }\n"]))),Be=(Object(Ee.a)(Te||(Te=Object(se.a)(["\n    mutation addDirection($recipeId: ID!, $stepText: String!) {\n        addDirection(recipeId: $recipeId, stepText: $stepText) {\n            _id\n            stepText\n            stepId\n        }\n    }\n"]))),Object(Ee.a)(Re||(Re=Object(se.a)(["\n    mutation upvoteRecipe($recipeId: ID!) {\n        upvoteRecipe(recipeId: $recipeId) {\n            _id,\n            username\n        }\n    }\n"])))),Ae=Object(Ee.a)(De||(De=Object(se.a)(["\n    mutation deleteUpvoteRecipe($recipeId: ID!) {\n        deleteUpvoteRecipe(recipeId: $recipeId) {\n            _id,\n            username\n        }\n    }\n"])));function Le(e){var t=e.children,r=Object(V.a)();return Object(U.jsx)(G.a,{appear:!1,direction:"up",in:!r,children:t})}function We(){var e=Object(m.d)((function(e){return e.global.newRecipe})),t=Object(m.c)(),r=e.recipeTitle,c=e.cookTime,a=e.servings,s=e.isPublic,o=e.recipeDescription,d=e.ingredients,l=e.directions,j=e.columns,g=j.ingredientsCol,f=j.directionsCol,v=e.ingredientErrors,y=e.directionErrors,w=Object(Se.a)(Ne),k=Object(O.a)(w,1)[0],C=Object(i.useState)(!1),T=Object(O.a)(C,2),R=T[0],D=T[1];Object(i.useEffect)((function(){var e={recipeTitle:!1,cookTime:!1,recipeDescription:!1,ingredients:!1,directions:!1,ingredientsOrder:!1,directionsOrder:!1},n=Object.keys(d).length,i=Object.keys(l).length;r.length>=2&&"New Recipe"!==r?e.recipeTitle=!0:e.recipeTitle=!1,c.length?e.cookTime=!0:e.cookTime=!1,o.length>=5?e.recipeDescription=!0:e.recipeDescription=!1,e.ingredients=n>0,e.directions=i>0,g.itemIds.length>0?e.ingredientsOrder=!0:e.ingredientsOrder=!1,f.itemIds.length>0?e.directionsOrder=!0:e.directionsOrder=!1,e.recipeTitle&&e.cookTime&&e.recipeDescription&&e.ingredients&&e.directions&&e.ingredientsOrder&&e.directionsOrder?D(!0):D(!1),(!e.recipeTitle||!e.cookTime||!e.recipeDescription||!e.ingredients||!e.directions||!e.ingredientsOrder||!e.directionsOrder)&&t(I({formCleared:!1}))}),[e,c.length,l,f.itemIds.length,d,g.itemIds.length,r,o.length,R]);var S=function(e){t(I(e)),console.log("ingredientErrors.length: ",e.ingredientErrors.length,"\ndirectionErrors.length: ",e.directionErrors.length),0===e.ingredientErrors.length&&0===e.directionErrors.length?(t(I({formCleared:!0})),E()):console.log("Errors found, cannot create a new recipe")},E=function(){var e=Object(p.a)(b.a.mark((function e(){var i,j,p,u,x,O;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={recipeTitle:r,cookTime:c,servings:a,recipeDescription:o,ingredientsOrder:g.itemIds,directionsOrder:f.itemIds},j=[],p=[],u="private"!==s,i.isPublic=u,e.next=7,g.itemIds.forEach((function(e){var t={ingredientId:d[e].ingredientId,quantity:d[e].quantity,measurement:d[e].measurementTypeShort,ingredientName:d[e].ingredient,preparationNotes:d[e].notes};j.push(t)}));case 7:return i.ingredients=j,e.next=10,f.itemIds.forEach((function(e){var t={stepId:l[e].stepId,stepText:l[e].stepText};p.push(t)}));case 10:return i.directions=p,e.prev=11,e.next=14,k({variables:Object(n.a)({},i)});case 14:x=e.sent,(O=x.data)&&t(I(h.newRecipe)),window.location.assign("/recipe/".concat(O.addRecipe._id)),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(11),console.error("New Recipe Error: ",e.t0);case 23:case"end":return e.stop()}}),e,null,[[11,20]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(z.a,{component:"form",onSubmit:function(t){if(t.preventDefault(),R){var r=Object(n.a)({},e);r.columns.ingredientsCol.itemIds.forEach((function(e){if(r.ingredients[e].quantity.length>0){var t=Object(n.a)(Object(n.a)({},r.ingredients[e]),{},{errors:Object(n.a)(Object(n.a)({},r.ingredients[e].errors),{},{quantity:!1})});if(r.ingredientErrors.includes(e)){var i=v.filter((function(t){return t!==e}));r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,t)),ingredientErrors:i})}else r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,t))})}else{var c=Object(n.a)(Object(n.a)({},r.ingredients[e]),{},{errors:Object(n.a)(Object(n.a)({},r.ingredients[e].errors),{},{quantity:!0})});if(r.ingredientErrors.includes(e))r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,c))});else{var a=[].concat(Object(u.a)(r.ingredientErrors),[e]);r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,c)),ingredientErrors:a})}}if(r.ingredients[e].ingredient.length>0){var s=Object(n.a)(Object(n.a)({},r.ingredients[e]),{},{errors:Object(n.a)(Object(n.a)({},r.ingredients[e].errors),{},{ingredient:!1})});if(r.ingredientErrors.includes(e)){var o=v.filter((function(t){return t!==e}));r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,s)),ingredientErrors:o})}else r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,s))})}else{var d=Object(n.a)(Object(n.a)({},r.ingredients[e]),{},{errors:Object(n.a)(Object(n.a)({},r.ingredients[e].errors),{},{ingredient:!0})});if(r.ingredientErrors.includes(e))r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,d))});else{var l=[].concat(Object(u.a)(r.ingredientErrors),[e]);r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,d)),ingredientErrors:l})}}})),r.columns.directionsCol.itemIds.forEach((function(e){if(l[e].stepText.length>0){var t=Object(n.a)(Object(n.a)({},r.directions[e]),{},{errors:Object(n.a)(Object(n.a)({},r.directions[e].errors),{},{stepText:!1})});if(r.directionErrors.includes(e)){var i=y.filter((function(t){return t!==e}));r=Object(n.a)(Object(n.a)({},r),{},{directions:Object(n.a)(Object(n.a)({},r.directions),{},Object(x.a)({},e,t)),directionErrors:i})}else r=Object(n.a)(Object(n.a)({},r),{},{directions:Object(n.a)(Object(n.a)({},r.directions),{},Object(x.a)({},e,t))})}else{var c=Object(n.a)(Object(n.a)({},r.directions[e]),{},{errors:Object(n.a)(Object(n.a)({},r.directions[e].errors),{},{stepText:!0})});if(y.includes(e))r=Object(n.a)(Object(n.a)({},r),{},{directions:Object(n.a)(Object(n.a)({},r.directions),{},Object(x.a)({},e,c))});else{var a=[].concat(Object(u.a)(r.directionErrors),[e]);r=Object(n.a)(Object(n.a)({},r),{},{directions:Object(n.a)(Object(n.a)({},r.directions),{},Object(x.a)({},e,c)),directionErrors:a})}}})),S(r)}},children:[Object(U.jsxs)(z.a,{px:{md:5,xl:20},children:[Object(U.jsx)(J,{}),!e.formCleared&&Object(U.jsx)(K,{})]}),Object(U.jsxs)(N.a,{container:!0,spacing:{md:5,xl:10},px:{md:5,xl:20},children:[Object(U.jsxs)(N.a,{item:!0,xs:12,md:6,children:[Object(U.jsx)(z.a,{sx:{borderBottom:1,borderColor:"divider",mt:3},children:Object(U.jsx)($.a,{variant:"h5",color:"primary",children:"Details"})}),Object(U.jsxs)(_.a,{sx:{p:2,mt:2},children:[Object(U.jsx)(X,{}),Object(U.jsx)(ee,{}),Object(U.jsx)(ie,{})]})]}),Object(U.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(U.jsx)(ce,{})})]}),Object(U.jsxs)(N.a,{container:!0,spacing:{md:5,xl:10},px:{md:5,xl:20},children:[Object(U.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(U.jsx)(Oe,{})}),Object(U.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(U.jsx)(he,{})})]}),R&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(z.a,{sx:{height:"65px"}}),Object(U.jsx)(Le,{children:Object(U.jsx)(q.a,{color:"backdrop",sx:{top:"auto",bottom:0},children:Object(U.jsx)(B.a,{sx:{left:0,right:0,justifyContent:"center"},children:Object(U.jsx)(A.a,{type:"submit",variant:"contained",color:"secondary",endIcon:Object(U.jsx)(W.a,{}),sx:{ml:2},children:"Save this to your kit!"})})})})]})]})}var Ve,Ge,Fe,Ue,Ke,Me,He,Qe,Je,Ye,Xe=r(294),Ze=(Object(Ee.a)(Ve||(Ve=Object(se.a)(["\n    query users {\n        users {\n            _id\n            username\n            email\n        }\n    }\n"]))),Object(Ee.a)(Ge||(Ge=Object(se.a)(["\n    query user ($Username: String!) {\n        user(username: $Username) {\n            _id\n            email\n            username\n            groceryList {\n                _id\n                ingredientName\n                measurement\n                quantity\n                preparationNotes\n            }\n            recipeKit {\n                _id\n                creator\n                isPublic\n                createdAt\n                recipeTitle\n                recipeDescription\n                servings\n                cookTime\n                directions {\n                    _id\n                    stepText\n                    stepId\n                }\n                ingredients {\n                    _id\n                    ingredientName\n                    measurement\n                    quantity\n                    preparationNotes\n                    ingredientId\n                }\n                cookware {\n                    _id\n                    cookwareName\n                }\n                comments {\n                    _id\n                    commentText\n                    createdAt\n                    username\n                    upvotes {\n                    _id\n                    username\n                    }\n                }\n                upvotes {\n                    _id\n                    username\n                }\n            }\n            savedRecipes {\n                _id\n                isPublic\n                creator\n                createdAt\n                recipeTitle\n                recipeDescription\n                servings\n                cookTime\n                steps {\n                    _id\n                    stepText\n                    stepNumber\n                }\n                ingredients {\n                    _id\n                    ingredientName\n                    measurement\n                    quantity\n                    preparationNotes\n                }\n                cookware {\n                    _id\n                    cookwareName\n                }\n                comments {\n                    _id\n                    commentText\n                    createdAt\n                    username\n                    upvotes {\n                    username\n                    _id\n                    }\n                }\n                upvotes {\n                    _id\n                    username\n                }\n                directionsOrder\n                ingredientsOrder\n            }\n        }\n    }\n"]))),Object(Ee.a)(Fe||(Fe=Object(se.a)(["\n    {\n        me {\n            _id\n            username\n            email\n            groceryList {\n            _id\n            ingredientName\n            measurement\n            quantity\n            preparationNotes\n            ingredientId\n            }\n            recipeKit {\n            _id\n            isPublic\n            creator\n            createdAt\n            recipeTitle\n            recipeDescription\n            servings\n            cookTime\n            directions {\n                _id\n                stepText\n                stepId\n            }\n            ingredients {\n                _id\n                ingredientName\n                measurement\n                quantity\n                preparationNotes\n                ingredientId\n            }\n            directionsOrder\n            ingredientsOrder\n            }\n            savedRecipes {\n            isPublic\n            _id\n            creator\n            createdAt\n            recipeTitle\n            recipeDescription\n            servings\n            cookTime\n            directions {\n                _id\n                stepText\n                stepId\n            }\n            ingredients {\n                _id\n                measurement\n            ingredientName\n                quantity\n                ingredientId\n            preparationNotes\n            }\n            directionsOrder\n            ingredientsOrder\n            }\n        }\n    }\n"])))),et=Object(Ee.a)(Ue||(Ue=Object(se.a)(["\n    query me_basic {\n        me {\n            _id\n            username\n            email\n        }\n    }\n"]))),tt=Object(Ee.a)(Ke||(Ke=Object(se.a)(["\n    query recipes {\n        recipes {\n            _id\n            isPublic\n            creator\n            createdAt\n            recipeTitle\n            recipeDescription\n            servings\n            cookTime\n            forked\n            directions {\n            _id\n            stepText\n            stepId\n            }\n            ingredients {\n            _id\n            ingredientName\n            measurement\n            quantity\n            preparationNotes\n            ingredientId\n            }\n            directionsOrder\n            ingredientsOrder\n        }\n    }\n"]))),rt=Object(Ee.a)(Me||(Me=Object(se.a)(["\n    query Query($recipeId: ID!) {\n        recipe(_id: $recipeId) {\n                _id\n                isPublic\n                creator\n                createdAt\n                recipeTitle\n                recipeDescription\n                servings\n                cookTime\n                forked\n            directions {\n                _id\n                stepText\n                stepId\n            }\n            ingredients {\n                _id\n                ingredientName\n                measurement\n                quantity\n                preparationNotes\n                ingredientId\n            }\n            cookware {\n                _id\n                cookwareName\n            }\n            comments {\n                _id\n                commentText\n                username\n                createdAt\n                upvotes {\n                    _id\n                    username\n                }\n            }\n            upvotes {\n                _id\n                username\n            }\n            directionsOrder\n            ingredientsOrder\n        }\n    }\n"]))),nt=(Object(Ee.a)(He||(He=Object(se.a)(["\n    query Query {\n        recipes {\n            _id\n            creator\n            createdAt\n            recipeTitle\n            recipeDescription\n            servings\n            cookTime\n            ingredients {\n                ingredientName\n                ingredientId\n            }\n            ingredientsOrder\n        }\n    }\n"]))),Object(Ee.a)(Qe||(Qe=Object(se.a)(["\n    query Query($recipeId: ID!) {\n        recipe(_id: $recipeId) {\n            _id\n            isPublic\n            creator\n            createdAt\n            recipeTitle\n            recipeDescription\n            servings\n            cookTime\n            ingredients {\n            _id\n            ingredientName\n            measurement\n            quantity\n            preparationNotes\n            ingredientId\n            }\n            ingredientsOrder\n        }\n    }\n"]))),Object(Ee.a)(Je||(Je=Object(se.a)(["\n    query ingredients {\n        ingredients {\n            _id\n            ingredientName\n            measurement\n            quantity\n            preparationNotes\n        }\n    }\n"]))),Object(Ee.a)(Ye||(Ye=Object(se.a)(["\n    query ingredient($IngredientName: String!) {\n        ingredient(ingredientName: $IngredientName) {\n            _id\n            ingredientName\n            measurement\n            quantity\n            preparationNotes\n        }\n    }\n"]))),r(117)),it=r(118),ct=r(178),at=new(function(){function e(){Object(nt.a)(this,e)}return Object(it.a)(e,[{key:"getProfile",value:function(){return Object(ct.a)(this.getToken())}},{key:"loggedIn",value:function(){return!!this.getToken()}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/my-kit")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),st=r(309),ot=r(295),dt=r(281),lt=r(282),jt=r(317),bt=r(298),pt=r(316);function ut(){return Object(U.jsx)(z.a,{sx:{width:"100%",height:"calc(100vh - 55px)",pt:"calc(100vh - 80vh)",display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center"},children:Object(U.jsx)(pt.a,{variant:"indeterminate",disableShrink:!0,color:"secondary",sx:{animationDuration:"550ms"},size:75,thickness:6})})}var xt=r(179),Ot=r.n(xt),mt=r(180),gt=r.n(mt);function ht(e){var t,r=e.recipeId,n=e.upvotes,c=Object(Se.a)(Be),a=Object(O.a)(c,1)[0],s=Object(Se.a)(Ae),o=Object(O.a)(s,1)[0],d=at.getProfile().data.username;if(console.log(n),n){var l=n.map((function(e){return e.username}));t=!!l.includes(d)}else t=!1;var j=Object(i.useState)(!!t),u=Object(O.a)(j,2),x=u[0],m=u[1],g=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=12;break}return e.prev=1,e.next=4,a({variables:{recipeId:r}});case 4:m(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Upvote Recipe Error: ",e.t0);case 10:e.next=21;break;case 12:return e.prev=12,e.next=15,o({variables:{recipeId:r}});case 15:m(!1),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(12),console.error("Delete Upvote Recipe Error: ",e.t1);case 21:case"end":return e.stop()}}),e,null,[[1,7],[12,18]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsx)(H.a,{onClick:g,children:x?Object(U.jsx)(Ot.a,{}):Object(U.jsx)(gt.a,{})})}var ft=r(181),vt=r.n(ft),yt=r(182),It=r.n(yt),wt=r(184),kt=r.n(wt),Ct=r(183),Tt=r.n(Ct),Rt=r(126),Dt=r.n(Rt),St=c.a.forwardRef((function(e,t){return Object(U.jsx)(G.a,Object(n.a)({direction:"up",ref:t},e))}));function Et(){var e,t,r=Object(m.d)((function(e){return e.global.easyCookStep})),c=Object(m.d)((function(e){return e.global.easyCookView})),a=Object(m.c)(),s=Object(Se.a)($e),d=Object(O.a)(s,1)[0],l=Object(o.h)(),j=Object(o.j)().id,u=Object(Xe.a)(rt,{variables:{recipeId:j}}),g=u.loading,h=u.data,f=u.refetch;if(Object(i.useEffect)((function(){a(T(0))}),[]),g)return Object(U.jsx)(ut,{});if(!h.recipe.ingredients.length||!h.recipe.directions.length)return f(),Object(U.jsx)(ut,{});var v=h.recipe||{},y=v.recipeTitle,I=v.isPublic,w=v.forked,R=v.creator,D=v.createdAt,S=v.recipeDescription,E=v.servings,P=v.cookTime,L=v.directions,W=v.directionsOrder,V=v.ingredients,G=v.ingredientsOrder,F=v.upvotes;V&&(null===(e=V[0])||void 0===e?void 0:e.ingredientName)&&(null===(t=L[0])||void 0===t?void 0:t.stepText)||f();var K=[],M=[],J=[],Y=[],X=[];if(!g&&void 0!==h.recipe){J=D.split(" at "),G.forEach((function(e){V.filter((function(t){if(t.ingredientId===e){var r="".concat(t.quantity," ").concat(t.measurement&&"n/a"!==t.measurement?t.measurement:""," ").concat(t.ingredientName),i=t.preparationNotes?"".concat(t.preparationNotes):"";return K.push(Object(n.a)(Object(n.a)({},t),{},{quantityText:r,prepNotesText:i})),K}return K}))})),W.forEach((function(e){return L.filter((function(t){return t.stepId===e?(M.push(Object(n.a)({},t)),M):M})),M}));var ee=Math.ceil(K.length/2);Y=K.slice(0,ee),X=K.slice(ee,K.length)}var te=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d({variables:{recipeId:j}});case 3:t=e.sent,t.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("New Recipe Error: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),re=function(e){a(k(e))},ne=at.loggedIn(),ie=ne?at.getProfile():null,ce=!!ie&&ie.data.username===R,ae=function(e){var t=parseInt(e.target.dataset.stepIndex);a(T(t)),se()},se=function(e){a(C())};return g?Object(U.jsx)(ut,{}):Object(U.jsxs)(z.a,{children:[Object(U.jsx)(z.a,{mx:{xs:0,md:5,xl:20},sx:{pt:2,display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:".4rem",borderBottom:1,borderColor:"divider"},children:Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center"},children:[ne&&!ce&&Object(U.jsx)(ht,{recipeId:j,upvotes:F}),Object(U.jsx)($.a,{variant:"h4",fontWeight:"bold",color:"primary",children:y}),ne&&Object(U.jsx)(z.a,{children:ce||w?Object(U.jsx)(H.a,{onClick:function(){var e={recipeTitle:y,type:[],cookTime:P,servings:E,isPublic:I?"public":"private",recipeDescription:S,columns:{ingredientsCol:{id:"ingredientsCol",title:"Ingredients",itemIds:G},directionsCol:{id:"directionsCol",title:"Directions",itemIds:W},deleteIngCol:{id:"deleteIngCol",title:"Delete",itemIds:[],deletedIds:[]},deleteDirCol:{id:"deleteDirCol",title:"Delete",itemIds:[],deletedIds:[]}},ingredientErrors:[],directionErrors:[],formCleared:!1},t={},r={};V.forEach((function(e){t=Object(n.a)(Object(n.a)({},t),{},Object(x.a)({},e.ingredientId,{ingredientId:e.ingredientId,quantity:e.quantity,measurementTypeShort:e.measurement?e.measurement:"n/a",ingredient:e.ingredientName,notes:e.preparationNotes,errors:{quantity:!1,ingredient:!1}}))})),e.ingredients=t,L.forEach((function(e){r=Object(n.a)(Object(n.a)({},r),{},Object(x.a)({},e.stepId,{stepId:e.stepId,stepText:e.stepText,errors:{stepText:!1}}))})),e.directions=r,re(e),l.push("".concat(j,"/edit"))},children:Object(U.jsx)(Q.c,{size:25,sx:{}})}):Object(U.jsx)(H.a,{onClick:te,children:Object(U.jsx)(Dt.a,{size:25,sx:{}})})})]})}),Object(U.jsxs)(z.a,{children:[Object(U.jsxs)(z.a,{ml:{xs:0,md:5,xl:20},sx:{display:"flex",alignItems:"center"},children:[Object(U.jsx)($.a,{variant:"subtitle1",mr:{xs:"auto",md:2},children:ce?"Created: ".concat("0"===J[0][0]?J[0].slice(1):J[0]):"By: ".concat(R," - ").concat("0"===J[0][0]?J[0].slice(1):J[0])}),ce&&Object(U.jsxs)($.a,{variant:"subtitle1",fontStyle:"italic",color:"secondary",children:["\xa0",I?"Public":"Private"]})]}),Object(U.jsxs)(N.a,{container:!0,spacing:{md:5,lg:10},px:{md:5,xl:20},children:[Object(U.jsxs)(N.a,{item:!0,xs:12,md:6,children:[Object(U.jsx)(z.a,{sx:{mt:2,borderBottom:1,borderColor:"divider"},children:Object(U.jsx)($.a,{variant:"h5",color:"primary",children:"Details"})}),Object(U.jsxs)(_.a,{sx:{p:2,mt:2,border:1,borderRadius:1,boxShadow:4,borderColor:"backdrop.dark"},children:[Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center"},children:[Object(U.jsx)(Q.a,{size:25}),Object(U.jsx)($.a,{sx:{ml:1},children:P})]}),Object(U.jsxs)(z.a,{sx:{mt:2,display:"flex",alignItems:"center"},children:[Object(U.jsx)(Z.a,{size:25}),Object(U.jsxs)($.a,{sx:{ml:1},children:[E," ",1===E?"person":"people"]})]})]})]}),Object(U.jsxs)(N.a,{item:!0,xs:12,md:6,children:[Object(U.jsx)(z.a,{sx:{mt:2,borderBottom:1,borderColor:"divider"},children:Object(U.jsx)($.a,{variant:"h5",color:"primary",children:"Description"})}),Object(U.jsx)(_.a,{sx:{p:2,mt:2,border:1,borderRadius:1,boxShadow:4,borderColor:"backdrop.dark"},children:Object(U.jsx)($.a,{children:S})})]})]}),Object(U.jsxs)(z.a,{px:{md:5,xl:20},children:[Object(U.jsx)(z.a,{sx:{mt:2,borderBottom:1,borderColor:"divider"},children:Object(U.jsx)($.a,{variant:"h5",color:"primary",children:"Ingredients"})}),Object(U.jsx)(_.a,{sx:{p:2,mt:2,border:1,borderRadius:1,boxShadow:4,borderColor:"backdrop.dark"},children:Object(U.jsxs)(N.a,{container:!0,spacing:{md:5,lg:10},children:[Object(U.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(U.jsx)(st.a,{sx:{m:0,p:0,pt:0,pb:0},children:Y.map((function(e){return Object(U.jsxs)(z.a,{children:[Object(U.jsx)(ot.a,{children:Object(U.jsx)(dt.a,{primary:e.quantityText,secondary:e.prepNotesText?e.prepNotesText:"-"})}),Object(U.jsx)(lt.a,{})]},"".concat(e.ingredientId,"-box"))}))})}),Object(U.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(U.jsx)(st.a,{sx:{m:0,p:0,pt:0,pb:0},children:X.map((function(e){return Object(U.jsxs)(z.a,{children:[Object(U.jsx)(ot.a,{children:Object(U.jsx)(dt.a,{primary:e.quantityText,secondary:e.prepNotesText?e.prepNotesText:"-"})}),Object(U.jsx)(lt.a,{})]},"".concat(e.ingredientId,"-box"))}))})})]})})]}),Object(U.jsxs)(z.a,{px:{md:5,xl:20},sx:{my:2},children:[Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:1,borderColor:"divider"},children:[Object(U.jsx)($.a,{variant:"h5",color:"primary",children:"Directions"}),Object(U.jsx)(H.a,{onClick:se,children:Object(U.jsx)(vt.a,{size:"large"})})]}),M.map((function(e,t){return Object(U.jsxs)(_.a,{sx:{p:1,mt:2,border:1,borderRadius:1,boxShadow:4,borderColor:"backdrop.dark",display:"flex",flexWrap:"nowrap",alignItems:"center"},children:[Object(U.jsxs)(A.a,{variant:"text",id:"step-".concat(t+1),"data-step-index":t,size:"large",color:"secondary",onClick:ae,children:["Step ",t+1]}),Object(U.jsx)($.a,{sx:{ml:1,pl:1,borderLeft:1,borderColor:"divider"},children:e.stepText})]},"paper-".concat(t))}))]}),Object(U.jsxs)(jt.a,{fullScreen:!0,open:c,onClose:se,TransitionComponent:St,children:[Object(U.jsx)(q.a,{sx:{position:"relative"},children:Object(U.jsxs)(B.a,{children:[Object(U.jsx)(H.a,{edge:"start",color:"inherit",onClick:se,"aria-label":"close",children:Object(U.jsx)(It.a,{})}),Object(U.jsx)($.a,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:y})]})}),Object(U.jsxs)(z.a,{sx:{flexGrow:1,display:"flex",flexFlow:"column"},children:[Object(U.jsx)(_.a,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:50,pl:2,bgcolor:"background.default"},children:Object(U.jsx)($.a,{children:"Step ".concat(r+1)})}),Object(U.jsx)(z.a,{px:{xs:1,md:"20%",xl:"25%"},sx:{width:"100%",my:"auto",textAlign:"center"},children:Object(U.jsx)($.a,{variant:"h4",children:M[r].stepText})}),Object(U.jsx)(bt.a,{variant:"text",steps:M.length,position:"static",activeStep:parseInt(r),nextButton:Object(U.jsxs)(A.a,{size:"small",onClick:function(){a(T(r+1))},disabled:r===M.length-1,children:["Next",Object(U.jsx)(Tt.a,{})]}),backButton:Object(U.jsxs)(A.a,{size:"small",onClick:function(){a(T(r-1))},disabled:0===r,children:[Object(U.jsx)(kt.a,{}),"Back"]})})]})]})]})]})}var Pt=r(318),zt=r(319),Nt=r(320),$t=r(321);function _t(){var e=Object(Se.a)(_e),t=Object(O.a)(e,1)[0],r=Object(m.d)((function(e){return e.global.editRecipe.deleteDialog})),n=Object(m.c)(),i=function(e){"Delete"===e.target.innerText&&a(),n(S())},c=Object(o.j)().id,a=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({variables:{id:c}});case 3:window.location.assign("/my-kit"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Delete Recipe Error: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsx)("div",{children:Object(U.jsxs)(jt.a,{open:r,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(U.jsx)(Pt.a,{id:"alert-dialog-title",color:"secondary",children:"Delete your recipe?"}),Object(U.jsx)(zt.a,{children:Object(U.jsx)(Nt.a,{id:"alert-dialog-description",color:"light.main",children:"Please confirm that you wish to delete this recipe? Note, this action can not be undone!"})}),Object(U.jsxs)($t.a,{children:[Object(U.jsx)(A.a,{onClick:i,children:"Cancel"}),Object(U.jsx)(A.a,{variant:"contained",color:"error",onClick:i,autoFocus:!0,children:"Delete"})]})]})})}var qt,Bt=r(185),At=r.n(Bt);function Lt(){var e=Object(i.useState)(!1),t=Object(O.a)(e,2),r=t[0],n=t[1],c=Object(m.d)((function(e){return e.global.editRecipe})),a=Object(m.c)();return Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center",pt:2,borderBottom:1,borderColor:"divider"},children:[Object(U.jsx)(_t,{}),r||r.length?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(M.a,{id:"recipe-name",label:"Recipe Name",name:"recipeTitle",size:"small",color:"backdrop",defaultValue:c.recipeTitle,InputLabelProps:{shrink:!0,color:"secondary"},sx:{margin:"6px 0 5px 0"},onBlur:function(e){e.target.value.length&&a(w(Object(x.a)({},e.target.name,e.target.value)))}}),Object(U.jsx)(H.a,{onClick:function(e){n(!1)},sx:{ml:2},children:Object(U.jsx)(Q.f,{size:25})})]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)($.a,{variant:"h4",fontWeight:"bold",color:"primary",children:c.recipeTitle}),Object(U.jsx)(z.a,{marginLeft:{xs:0,sm:"auto"},sx:{mb:1,borderRight:1,borderColor:"divider",paddingRight:".5rem"},children:Object(U.jsx)(H.a,{onClick:function(){return n(!0)},children:Object(U.jsx)(Q.c,{size:25})})}),Object(U.jsx)(z.a,{ml:".5rem",mb:1,children:Object(U.jsx)(H.a,{onClick:function(){a(S())},children:Object(U.jsx)(At.a,{size:25})})})]})]})}function Wt(){var e=Object(m.d)((function(e){return e.global.editRecipe})),t=Object(m.c)();return Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center"},children:[Object(U.jsx)(Q.a,{size:25,style:{marginRight:"1rem"}}),Object(U.jsx)(M.a,{id:"time-to-serve",name:"cookTime",select:!0,size:"small",placeholder:"Total Time",value:e.cookTime,onChange:function(e){t(w(Object(x.a)({},e.target.name,e.target.value)))},color:"backdrop",sx:{flexGrow:1},children:["10 minutes","20 minutes","30 minutes","40 minutes","50 minutes","1 hour","1 hour 15 minutes","1 hour 30 minutes","1 hour 45 minutes","2 hours","2 hours 15 minutes","2 hours 30 minutes","2 hours 45 minutes","3 hours","3 hours 30 minutes","4 hours","4 hours 30 minutes","5 hours","5 hours 30 minutes","6 hours","6 hours 30 minutes","7 hours","7 hours 30 minutes","8 hours","8 hours 30 minutes","9 hours","9 hours 30 minutes","10 hours","10 hours 30 minutes","11 hours","11 hours 30 minutes","12 hours","13 hours","14 hours","15 hours","16 hours","17 hours","18 hours","19 hours","20 hours","21 hours","22 hours","23 hours","24 hours",">24 hours"].map((function(e){return Object(U.jsx)(Y.a,{value:e,children:e},e)}))})]})}function Vt(){var e=Object(m.d)((function(e){return e.global.editRecipe})),t=Object(m.c)(),r=function(r){if("+"===r.target.innerText){var n=e.servings+1;t(w({servings:n}))}else if(e.servings>1){var i=e.servings-1;t(w({servings:i}))}};return Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center",mt:2},children:[Object(U.jsx)(Z.a,{size:25,style:{marginRight:"1rem"}}),Object(U.jsx)(A.a,{variant:"contained",onClick:r,color:"secondary",style:{borderTopRightRadius:0,borderBottomRightRadius:0,height:"40px",minWidth:"30px",maxWidth:"30px",boxShadow:"2px 0px 2px 0px #00000040",fontSize:22},children:"-"}),Object(U.jsx)("div",{className:"TextField-without-border-radius",children:Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",name:"servings",value:e.servings,sx:{width:60},inputProps:{inputMode:"numeric",pattern:"[0-9]*",min:0,style:{textAlign:"center"}},onBlur:function(e){t(w(Object(x.a)({},e.target.name,e.target.value)))}})}),Object(U.jsx)(A.a,{variant:"contained",onClick:r,color:"secondary",sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,height:"40px",minWidth:"30px",maxWidth:"30px",boxShadow:"-2px 0px 2px 0px #00000040",fontSize:22},children:"+"})]})}function Gt(){var e=Object(m.d)((function(e){return e.global.editRecipe})),t=Object(m.c)();return Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center",mt:2},children:[Object(U.jsx)(ne.a,{size:25,style:{marginRight:"1rem"}}),Object(U.jsxs)(te.a,{color:"primary",name:"isPublic",value:e.isPublic,exclusive:!0,onChange:function(e){t(w(Object(x.a)({},e.target.name,e.target.value)))},sx:{flexGrow:1,display:"flex",height:"40px"},children:[Object(U.jsx)(re.a,{value:"private",name:"isPublic",color:"secondary",sx:{flexGrow:1},children:"Private"}),Object(U.jsx)(re.a,{value:"public",name:"isPublic",color:"secondary",sx:{flexGrow:1},children:"Public"})]})]})}function Ft(){var e=Object(m.d)((function(e){return e.global.editRecipe})),t=Object(m.c)(),r=e.recipeDescription;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(z.a,{sx:{mt:3,borderBottom:1,borderColor:"divider"},children:Object(U.jsx)($.a,{variant:"h5",color:"primary",children:"Description"})}),Object(U.jsx)(_.a,{sx:{p:2,boxShadow:4,mt:2},children:Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",label:"Description",name:"recipeDescription",type:"text",multiline:!0,defaultValue:r,sx:{width:"100%",borderTopRightRadius:0,borderBottomRightRadius:0,flexGrow:"1"},fullWidth:!0,color:"backdrop",InputLabelProps:{shrink:!0,color:"secondary"},onBlur:function(e){t(w(Object(x.a)({},e.target.name,e.target.value)))}})})]})}function Ut(e){var t=e.ing,r=e.index,i=Object(m.d)((function(e){return e.global.editRecipe})),c=Object(m.c)(),a=i.ingredients,s=Object(n.a)({},a[t.ingredientId]),o=s.ingredientId,d=s.quantity,l=s.measurementTypeShort,j=s.ingredient,b=s.notes,p=s.errors,u=[{type:"Not applicable",short:"n/a"},{type:"teaspoon(s)",short:"tsp"},{type:"tablespoon(s)",short:"Tbsp"},{type:"cup(s)",short:"c"},{type:"ounces(s)",short:"oz"},{type:"pound(s)",short:"lbs"},{type:"gram(s)",short:"g"},{type:"kilogram(s)",short:"kg"},{type:"fluid ounce(s)",short:"fl oz"},{type:"pint(s)",short:"pt"},{type:"quart(s)",short:"qt"},{type:"gallon(s)",short:"gal"},{type:"milliliter(s)",short:"mL"},{type:"liter(s)",short:"L"}],O=function(e){var t=Object(n.a)({},s);if("measurementType"===e.target.name){var r=u.find((function(t){return t.short===e.target.value})),i=r.type,d=r.short;t=Object(n.a)(Object(n.a)({},t),{},{measurementType:i,measurementTypeShort:d})}else t=Object(n.a)(Object(n.a)({},t),{},Object(x.a)({},e.target.name,e.target.value));c(w({ingredients:Object(n.a)(Object(n.a)({},a),{},Object(x.a)({},o,t))}))};return Object(U.jsx)(oe.b,{draggableId:o,index:r,children:function(e){return Object(U.jsx)("div",Object(n.a)(Object(n.a)({id:o},e.draggableProps),{},{ref:e.innerRef,children:Object(U.jsxs)(_.a,{sx:{mt:2,py:2,width:"100%",border:1,borderRadius:1,boxShadow:4,borderColor:"backdrop.dark"},children:[Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center",mx:2},children:[Object(U.jsx)("div",{className:"TextField-no-border-right",children:Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",label:"Quantity",name:"quantity",type:"text",defaultValue:d,error:p.quantity,color:"backdrop",sx:{width:100,borderTopRightRadius:0,borderBottomRightRadius:0,flexGrow:"1"},InputLabelProps:{shrink:!0,color:"secondary"},onBlur:O})}),Object(U.jsx)("div",{className:"TextField-no-border-left",style:{marginLeft:"-1px"},children:Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",select:!0,label:"Type",name:"measurementType",value:l,color:"backdrop",InputLabelProps:{shrink:!0,color:"secondary"},SelectProps:{renderValue:function(e){return e}},sx:{width:80,borderTopLeftRadius:0,borderBottomLeftRadius:0},onChange:O,children:u.map((function(e){return Object(U.jsxs)(Y.a,{value:e.short,children:[e.type," - ",e.short]},e.short)}))})}),Object(U.jsx)(z.a,Object(n.a)(Object(n.a)({component:"div"},e.dragHandleProps),{},{sx:{marginLeft:"auto",px:2,py:1,color:"grey"},children:Object(U.jsx)(be.a,{size:15,color:"grey"})}))]}),p.ingredient&&Object(U.jsx)($.a,{variant:"subtitle2",color:"error",sx:{mx:2},children:"Ingredient quantity is required"}),Object(U.jsxs)(z.a,{sx:{mt:2,mx:2},children:[Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",label:"Ingredient",name:"ingredient",type:"text",defaultValue:j,error:p.ingredient,color:"backdrop",sx:{width:"100%",borderTopRightRadius:0,borderBottomRightRadius:0,flexGrow:"1"},fullWidth:!0,InputLabelProps:{shrink:!0,color:"secondary"},onBlur:O}),p.ingredient&&Object(U.jsx)($.a,{variant:"subtitle2",color:"error",children:"Please provide an ingredient"})]}),Object(U.jsx)(z.a,{sx:{mt:2,mx:2},children:Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",label:"Notes",name:"notes",type:"text",multiline:!0,defaultValue:b,color:"backdrop",sx:{width:"100%",borderTopRightRadius:0,borderBottomRightRadius:0,flexGrow:"1"},fullWidth:!0,InputLabelProps:{shrink:!0,color:"secondary"},onBlur:O})})]})}))}})}var Kt,Mt=de.a.div(qt||(qt=Object(se.a)(["\n  margin: 16px 0 0 0;\n  padding-top: ",";\n  padding-left:  ","; \n  padding-right:  ","; \n  min-height: 5vh;\n  border-radius: 4px;\n  text-align: center;\n  background-color: ",";\n  color: ",";\n\n"])),(function(e){return(e.isDraggingOver||e.hasItem.length>0)&&"16px"}),(function(e){return(e.isDraggingOver||e.hasItem.length>0)&&"16px"}),(function(e){return(e.isDraggingOver||e.hasItem.length>0)&&"16px"}),(function(e){return e.isDraggingOver||e.hasItem.length>0?"#ef5350":"inherit"}),(function(e){return e.isDraggingOver||e.hasItem.length>0?"#000000":"inherit"}));function Ht(){var e=Object(m.d)((function(e){return e.global.editRecipe})),t=Object(m.c)(),r=[];Object.keys(e.ingredients).forEach((function(e){var t=parseInt(e.split("ingredient-").pop());r.push(t),r=r.sort((function(e,t){return e-t}))}));var c=r.pop()+1,a=Object(i.useState)(c),s=Object(O.a)(a,2),o=s[0],d=s[1],l=e.columns,j=e.ingredients,g=l.ingredientsCol,h=l.deleteIngCol,f=l.deleteIngCol.deletedIds,v=l.ingredientsCol.itemIds,y=function(){var e=Array.from(h.itemIds),r=Array.from(g.itemIds).concat(e),i={columns:Object(n.a)(Object(n.a)({},l),{},{ingredientsCol:Object(n.a)(Object(n.a)({},g),{},{itemIds:r}),deleteIngCol:Object(n.a)(Object(n.a)({},h),{},{itemIds:[]})})};t(w(i))},I=function(){var e=Object(p.a)(b.a.mark((function e(){var r,i,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.from(h.itemIds),i=Object(n.a)({},j),c=f.concat(r),e.next=5,r.forEach((function(e){delete i[e]}));case 5:return a={columns:Object(n.a)(Object(n.a)({},l),{},{deleteIngCol:Object(n.a)(Object(n.a)({},h),{},{itemIds:[],deletedIds:c})})},e.next=8,t(w(a));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(z.a,{sx:{mt:3,borderBottom:1,borderColor:"divider"},children:Object(U.jsx)($.a,{variant:"h5",color:"primary",children:"Ingredients"})}),Object(U.jsxs)(oe.a,{onDragEnd:function(e){var r,i=e.destination,c=e.source,a=e.draggableId;if(i&&(i.droppableId!==c.droppableId||i.index!==c.index)){var s=l[c.droppableId],o=l[i.droppableId];if(s!==o){var d=Array.from(s.itemIds);d.splice(c.index,1);var j=Object(n.a)(Object(n.a)({},s),{},{itemIds:d}),b=Array.from(o.itemIds);b.splice(i.index,0,a);var p=Object(n.a)(Object(n.a)({},o),{},{itemIds:b}),u={columns:Object(n.a)(Object(n.a)({},l),{},(r={},Object(x.a)(r,j.id,j),Object(x.a)(r,p.id,p),r))};t(w(u))}else{var O=Array.from(s.itemIds);O.splice(c.index,1),O.splice(i.index,0,a);var m=Object(n.a)(Object(n.a)({},s),{},{itemIds:O}),g={columns:Object(n.a)(Object(n.a)({},l),{},Object(x.a)({},m.id,m))};t(w(g))}}},children:[Object(U.jsx)(oe.c,{droppableId:g.id,children:function(e){return Object(U.jsxs)(z.a,Object(n.a)(Object(n.a)({component:"div",ref:e.innerRef},e.droppableProps),{},{children:[v.map((function(e,t){return Object(U.jsx)(Ut,{ing:j[e],index:t},j[e].ingredientId)})),e.placeholder]}))}}),Object(U.jsx)(oe.c,{droppableId:h.id,children:function(e,t){return Object(U.jsx)(U.Fragment,{children:g.itemIds.length>0||h.itemIds.length>0?Object(U.jsxs)(Mt,Object(n.a)(Object(n.a)({ref:e.innerRef},e.droppableProps),{},{isDraggingOver:t.isDraggingOver,hasItem:h.itemIds,children:[Object(U.jsxs)(z.a,{sx:{display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"center"},children:[Object(U.jsx)(le.a,{}),Object(U.jsxs)($.a,{style:{fontStyle:"italic",fontSize:"16px",margin:0,padding:0},children:["\xa0",0===h.itemIds.length?"Drop an ingredient here":"Items selected to delete"]})]}),l.deleteIngCol.itemIds.map((function(e,t){return Object(U.jsx)(Ut,{ing:j[e],index:t},j[e].ingredientId)})),e.placeholder,h.itemIds.length>0&&Object(U.jsxs)(z.a,{sx:{display:"flex",flexWrap:"nowrap",alignItems:"center",p:2,borderRadius:"0 0 4",justifyContent:"end"},children:[Object(U.jsx)(A.a,{variant:"text",color:"secondary",size:"small",sx:{marginRight:2},onClick:y,children:"Cancel"}),Object(U.jsx)(A.a,{size:"small",variant:"contained",color:"secondary",onClick:I,children:"Delete"})]})]})):Object(U.jsxs)(z.a,Object(n.a)(Object(n.a)({component:"div",ref:e.innerRef},e.droppableProps),{},{style:{display:"none"},children:[l.deleteIngCol.itemIds.map((function(e,t){return Object(U.jsx)(Ut,{ing:j[e],index:t},j[e].id)})),e.placeholder]}))})}})]}),Object(U.jsxs)(A.a,{variant:"text",sx:{textTransform:"none",fontSize:16,fontStyle:"italic",color:"primary"},onClick:function(){var e="ingredient-".concat(o);d(o+1);var r=[].concat(Object(u.a)(v),[e]);t(w({ingredients:Object(n.a)(Object(n.a)({},j),{},Object(x.a)({},e,{ingredientId:e,quantity:"",measurementType:"",measurementTypeShort:"",ingredient:"",notes:"",errors:{quantity:!1,ingredient:!1}})),columns:Object(n.a)(Object(n.a)({},l),{},{ingredientsCol:Object(n.a)(Object(n.a)({},g),{},{itemIds:r})})}))},children:[Object(U.jsx)(Q.d,{}),"\xa0Add a new ingredient"]})]})}function Qt(e){var t=e.step,r=e.index,i=Object(m.d)((function(e){return e.global.editRecipe})),c=Object(m.c)(),a=i.directions,s=Object(n.a)({},a[t.stepId]),o=s.stepId,d=s.stepText,l=s.errors,j=function(e){var t=Object(n.a)({},s);t=Object(n.a)(Object(n.a)({},t),{},Object(x.a)({},e.target.name,e.target.value)),c(w({directions:Object(n.a)(Object(n.a)({},a),{},Object(x.a)({},o,t))}))};return Object(U.jsx)(oe.b,{draggableId:o,index:r,children:function(e){return Object(U.jsx)(z.a,Object(n.a)(Object(n.a)({component:"div",id:o},e.draggableProps),{},{ref:e.innerRef,children:Object(U.jsxs)(_.a,{sx:{mt:2,py:2,width:"100%",border:1,borderRadius:1,boxShadow:4,borderColor:"backdrop.dark"},children:[Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center"},children:[Object(U.jsx)(M.a,{id:"outlined-size-small",size:"small",label:"Step",name:"stepText",type:"text",multiline:!0,defaultValue:d,error:l.stepText,color:"backdrop",sx:{width:"100%",borderTopRightRadius:0,borderBottomRightRadius:0,flexGrow:"1",ml:2},fullWidth:!0,InputLabelProps:{shrink:!0,color:"secondary"},onBlur:j}),Object(U.jsx)(z.a,Object(n.a)(Object(n.a)({component:"div"},e.dragHandleProps),{},{sx:{marginLeft:"auto",px:2,py:1,color:"grey"},children:Object(U.jsx)(be.a,{size:15,color:"grey"})}))]}),l.stepText&&Object(U.jsx)($.a,{variant:"subtitle2",color:"error",sx:{mx:2},children:"Please provide information for this step"})]})}))}})}var Jt=de.a.div(Kt||(Kt=Object(se.a)(["\n  margin: 16px 0 0 0;\n  padding-top: ",";\n  padding-left:  ","; \n  padding-right:  ","; \n  min-height: 5vh;\n  border-radius: 4px;\n  text-align: center;\n  background-color: ",";\n  color: ",";\n"])),(function(e){return(e.isDraggingOver||e.hasItem.length>0)&&"16px"}),(function(e){return(e.isDraggingOver||e.hasItem.length>0)&&"16px"}),(function(e){return(e.isDraggingOver||e.hasItem.length>0)&&"16px"}),(function(e){return e.isDraggingOver||e.hasItem.length>0?"#ef5350":"inherit"}),(function(e){return e.isDraggingOver||e.hasItem.length>0?"#000000":"inherit"}));function Yt(){var e=Object(m.d)((function(e){return e.global.editRecipe})),t=Object(m.c)(),r=e.columns,c=e.directions,a=r.directionsCol,s=r.deleteDirCol,o=r.deleteDirCol.deletedIds,d=r.directionsCol.itemIds,l=[];Object.keys(c).forEach((function(e){var t=parseInt(e.split("step-").pop());l.push(t),l=l.sort((function(e,t){return e-t}))}));var j=l.pop()+1,g=Object(i.useState)(j),h=Object(O.a)(g,2),f=h[0],v=h[1],y=function(){var e=Array.from(s.itemIds),i=Array.from(a.itemIds).concat(e),c={columns:Object(n.a)(Object(n.a)({},r),{},{directionsCol:Object(n.a)(Object(n.a)({},a),{},{itemIds:i}),deleteDirCol:Object(n.a)(Object(n.a)({},s),{},{itemIds:[]})})};t(w(c))},I=function(){var e=Object(p.a)(b.a.mark((function e(){var i,a,d,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Array.from(s.itemIds),a=Object(n.a)({},c),d=o.concat(i),e.next=5,i.forEach((function(e){delete a[e]}));case 5:return l={columns:Object(n.a)(Object(n.a)({},r),{},{deleteDirCol:Object(n.a)(Object(n.a)({},s),{},{itemIds:[],deletedIds:d})})},e.next=8,t(w(l));case 8:console.log("newColState",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(z.a,{sx:{mt:3,borderBottom:1,borderColor:"divider"},children:Object(U.jsx)($.a,{variant:"h5",color:"primary",children:"Directions"})}),Object(U.jsxs)(oe.a,{onDragEnd:function(e){var i,c=e.destination,a=e.source,s=e.draggableId;if(c&&(c.droppableId!==a.droppableId||c.index!==a.index)){var o=r[a.droppableId],d=r[c.droppableId];if(o!==d){var l=Array.from(o.itemIds);l.splice(a.index,1);var j=Object(n.a)(Object(n.a)({},o),{},{itemIds:l}),b=Array.from(d.itemIds);b.splice(c.index,0,s);var p=Object(n.a)(Object(n.a)({},d),{},{itemIds:b}),u={columns:Object(n.a)(Object(n.a)({},r),{},(i={},Object(x.a)(i,j.id,j),Object(x.a)(i,p.id,p),i))};t(w(u))}else{var O=Array.from(o.itemIds);O.splice(a.index,1),O.splice(c.index,0,s);var m=Object(n.a)(Object(n.a)({},o),{},{itemIds:O}),g={columns:Object(n.a)(Object(n.a)({},r),{},Object(x.a)({},m.id,m))};t(w(g))}}},children:[Object(U.jsx)(oe.c,{droppableId:a.id,children:function(e){return Object(U.jsxs)(z.a,Object(n.a)(Object(n.a)({component:"div",ref:e.innerRef},e.droppableProps),{},{children:[d.map((function(e,t){return Object(U.jsx)(Qt,{step:c[e],index:t},c[e].stepId)})),e.placeholder]}))}}),Object(U.jsx)(oe.c,{droppableId:s.id,children:function(e,t){return Object(U.jsx)(U.Fragment,{children:a.itemIds.length>0||s.itemIds.length>0?Object(U.jsxs)(Jt,Object(n.a)(Object(n.a)({ref:e.innerRef},e.droppableProps),{},{isDraggingOver:t.isDraggingOver,hasItem:s.itemIds,children:[Object(U.jsxs)(z.a,{sx:{display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"center"},children:[Object(U.jsx)(le.a,{}),Object(U.jsxs)($.a,{style:{fontStyle:"italic",fontSize:"16px",margin:0,padding:0},children:["\xa0",0===s.itemIds.length?"Drop a step here":"Steps selected to delete"]})]}),s.itemIds.map((function(e,t){return Object(U.jsx)(Qt,{step:c[e],index:t},c[e].stepId)})),e.placeholder,s.itemIds.length>0&&Object(U.jsxs)(z.a,{sx:{display:"flex",flexWrap:"nowrap",alignItems:"center",p:2,borderRadius:"0 0 4",justifyContent:"end"},children:[Object(U.jsx)(A.a,{variant:"text",size:"small",color:"secondary",sx:{marginRight:2},onClick:y,children:"Cancel"}),Object(U.jsx)(A.a,{size:"small",variant:"contained",color:"secondary",onClick:I,children:"Delete"})]})]})):Object(U.jsx)(z.a,Object(n.a)(Object(n.a)({component:"div",ref:e.innerRef},e.droppableProps),{},{style:{display:"none"},children:e.placeholder}))})}})]}),Object(U.jsxs)(A.a,{variant:"text",sx:{textTransform:"none",fontSize:16,fontStyle:"italic"},onClick:function(){var e="step-".concat(f);v(f+1);var i=[].concat(Object(u.a)(d),[e]);t(w({directions:Object(n.a)(Object(n.a)({},c),{},Object(x.a)({},e,{stepId:e,stepText:"",errors:{stepText:!1}})),columns:Object(n.a)(Object(n.a)({},r),{},{directionsCol:Object(n.a)(Object(n.a)({},a),{},{itemIds:i})})}))},children:[Object(U.jsx)(Q.d,{}),"\xa0Add a new step"]})]})}function Xt(e){var t=e.children,r=Object(V.a)();return Object(U.jsx)(G.a,{appear:!1,direction:"up",in:!r,children:t})}function Zt(){var e=Object(m.d)((function(e){return e.global})),t=Object(m.c)(),r=Object(o.h)(),c=Object(o.j)().id,a=Object(Se.a)(qe),s=Object(O.a)(a,1)[0],d=Object(i.useState)(!1),l=Object(O.a)(d,2),j=l[0],g=l[1],f=null===e||void 0===e?void 0:e.editRecipe,v=f.recipeTitle,y=f.cookTime,I=f.forked,k=f.servings,C=f.isPublic,T=f.recipeDescription,R=f.ingredients,D=f.directions,S=f.columns,E=S.ingredientsCol,P=S.directionsCol,L=f.ingredientErrors,V=f.directionErrors,G=at.loggedIn(),F=G?at.getProfile():null,K=F?F.data.username===e.editRecipe.creator:(!1)(!K||I&&G)&&r.push("/recipe/".concat(c));Object(i.useEffect)((function(){var e={recipeTitle:!1,cookTime:!1,recipeDescription:!1,ingredients:!1,directions:!1,ingredientsOrder:!1,directionsOrder:!1},r=Object.keys(R).length,n=Object.keys(D).length;v.length>=2&&"Edit Recipe"!==v?e.recipeTitle=!0:e.recipeTitle=!1,y.length?e.cookTime=!0:e.cookTime=!1,T.length>=5?e.recipeDescription=!0:e.recipeDescription=!1,e.ingredients=r>0,e.directions=n>0,E.itemIds.length>0?e.ingredientsOrder=!0:e.ingredientsOrder=!1,P.itemIds.length>0?e.directionsOrder=!0:e.directionsOrder=!1,e.recipeTitle&&e.cookTime&&e.recipeDescription&&e.ingredients&&e.directions&&e.ingredientsOrder&&e.directionsOrder?g(!0):g(!1),(!e.recipeTitle||!e.cookTime||!e.recipeDescription||!e.ingredients||!e.directions||!e.ingredientsOrder||!e.directionsOrder)&&t(w({formCleared:!1}))}),[e.editRecipe]);var M=function(e){t(w(e)),console.log("ingredientErrors.length: ",e.ingredientErrors.length,"\ndirectionErrors.length: ",e.directionErrors.length),0===e.ingredientErrors.length&&0===e.directionErrors.length?(t(w({formCleared:!0})),H()):console.log("Errors found, cannot edit recipe")},H=function(){var e=Object(p.a)(b.a.mark((function e(){var t,r,i,a,o,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={recipeTitle:v,cookTime:y,servings:k,recipeDescription:T,ingredientsOrder:E.itemIds,directionsOrder:P.itemIds},r=[],i=[],a="private"!==C,t.isPublic=a,e.next=7,E.itemIds.forEach((function(e){var t={ingredientId:R[e].ingredientId,quantity:R[e].quantity,measurement:R[e].measurementTypeShort,ingredientName:R[e].ingredient,preparationNotes:R[e].notes};r.push(t)}));case 7:return t.ingredients=r,e.next=10,P.itemIds.forEach((function(e){var t={stepId:D[e].stepId,stepText:D[e].stepText};i.push(t)}));case 10:return t.directions=i,e.prev=11,e.next=14,s({variables:Object(n.a)({recipeId:c},t)});case 14:o=e.sent,d=o.data,Q(d),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),console.error("Edit Recipe Error: ",e.t0);case 22:case"end":return e.stop()}}),e,null,[[11,19]])})));return function(){return e.apply(this,arguments)}}(),Q=function(e){e&&t(w(h.editRecipe)),r.goBack()};return Object(U.jsxs)(z.a,{component:"form",onSubmit:function(t){if(t.preventDefault(),j){var r=Object(n.a)({},e.editRecipe);r.columns.ingredientsCol.itemIds.forEach((function(e){if(r.ingredients[e].quantity.length>0){var t=Object(n.a)(Object(n.a)({},r.ingredients[e]),{},{errors:Object(n.a)(Object(n.a)({},r.ingredients[e].errors),{},{quantity:!1})});if(r.ingredientErrors.includes(e)){var i=L.filter((function(t){return t!==e}));r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,t)),ingredientErrors:i})}else r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,t))})}else{var c=Object(n.a)(Object(n.a)({},r.ingredients[e]),{},{errors:Object(n.a)(Object(n.a)({},r.ingredients[e].errors),{},{quantity:!0})});if(r.ingredientErrors.includes(e))r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,c))});else{var a=[].concat(Object(u.a)(r.ingredientErrors),[e]);r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,c)),ingredientErrors:a})}}if(r.ingredients[e].ingredient.length>0){var s=Object(n.a)(Object(n.a)({},r.ingredients[e]),{},{errors:Object(n.a)(Object(n.a)({},r.ingredients[e].errors),{},{ingredient:!1})});if(r.ingredientErrors.includes(e)){var o=L.filter((function(t){return t!==e}));r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,s)),ingredientErrors:o})}else r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,s))})}else{var d=Object(n.a)(Object(n.a)({},r.ingredients[e]),{},{errors:Object(n.a)(Object(n.a)({},r.ingredients[e].errors),{},{ingredient:!0})});if(r.ingredientErrors.includes(e))r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,d))});else{var l=[].concat(Object(u.a)(r.ingredientErrors),[e]);r=Object(n.a)(Object(n.a)({},r),{},{ingredients:Object(n.a)(Object(n.a)({},r.ingredients),{},Object(x.a)({},e,d)),ingredientErrors:l})}}})),r.columns.directionsCol.itemIds.forEach((function(e){if(D[e].stepText.length>0){var t=Object(n.a)(Object(n.a)({},r.directions[e]),{},{errors:Object(n.a)(Object(n.a)({},r.directions[e].errors),{},{stepText:!1})});if(r.directionErrors.includes(e)){var i=V.filter((function(t){return t!==e}));r=Object(n.a)(Object(n.a)({},r),{},{directions:Object(n.a)(Object(n.a)({},r.directions),{},Object(x.a)({},e,t)),directionErrors:i})}else r=Object(n.a)(Object(n.a)({},r),{},{directions:Object(n.a)(Object(n.a)({},r.directions),{},Object(x.a)({},e,t))})}else{var c=Object(n.a)(Object(n.a)({},r.directions[e]),{},{errors:Object(n.a)(Object(n.a)({},r.directions[e].errors),{},{stepText:!0})});if(V.includes(e))r=Object(n.a)(Object(n.a)({},r),{},{directions:Object(n.a)(Object(n.a)({},r.directions),{},Object(x.a)({},e,c))});else{var a=[].concat(Object(u.a)(r.directionErrors),[e]);r=Object(n.a)(Object(n.a)({},r),{},{directions:Object(n.a)(Object(n.a)({},r.directions),{},Object(x.a)({},e,c)),directionErrors:a})}}})),M(r)}},children:[Object(U.jsx)(z.a,{px:{md:5,xl:20},children:Object(U.jsx)(Lt,{})}),Object(U.jsxs)(N.a,{container:!0,spacing:{md:5,xl:10},px:{md:5,xl:20},children:[Object(U.jsxs)(N.a,{item:!0,xs:12,md:6,children:[Object(U.jsx)(z.a,{sx:{borderBottom:1,borderColor:"divider",mt:3},children:Object(U.jsx)($.a,{variant:"h5",color:"primary",children:"Details"})}),Object(U.jsxs)(_.a,{sx:{p:2,mt:2},children:[Object(U.jsx)(Wt,{}),Object(U.jsx)(Vt,{}),Object(U.jsx)(Gt,{})]})]}),Object(U.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(U.jsx)(Ft,{})})]}),Object(U.jsxs)(N.a,{container:!0,spacing:{md:5,xl:10},px:{md:5,xl:20},children:[Object(U.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(U.jsx)(Ht,{})}),Object(U.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(U.jsx)(Yt,{})})]}),j&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(z.a,{sx:{height:"65px"}}),Object(U.jsx)(Xt,{children:Object(U.jsx)(q.a,{color:"backdrop",sx:{top:"auto",bottom:0},children:Object(U.jsx)(B.a,{sx:{left:0,right:0,justifyContent:"center"},children:Object(U.jsx)(A.a,{type:"submit",variant:"contained",color:"secondary",endIcon:Object(U.jsx)(W.a,{}),sx:{ml:2},children:"Save all changes!"})})})})]})]})}var er=r(23),tr=r(290),rr=r(325),nr=r(130),ir=r.n(nr),cr=r(131),ar=r.n(cr),sr=r(128),or=r.n(sr),dr=r(129),lr=r.n(dr),jr=r(322),br=r(323),pr=r(324);function ur(e){var t=e.recipe,r=t.createdAt.split(" at ");return Object(U.jsxs)(jr.a,{sx:{boxShadow:4,height:"100%"},children:[Object(U.jsx)(A.a,{component:er.b,to:"/recipe/".concat(t._id),sx:{display:"flex",justifyContent:"start",p:2},children:Object(U.jsx)(br.a,{sx:{color:"primary",padding:0},action:Object(U.jsx)(H.a,{"aria-label":"settings"}),title:t.recipeTitle,subheader:"Created: ".concat("0"===r[0][0]?r[0].slice(1):r[0])})}),Object(U.jsxs)(pr.a,{sx:{py:0,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(U.jsx)($.a,{variant:"body1",color:"text.light",children:t.recipeDescription}),Object(U.jsxs)(z.a,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[Object(U.jsxs)(z.a,{sx:{display:"flex",alignContent:"center"},children:[Object(U.jsx)(or.a,{color:"secondary",sx:{mr:1}}),Object(U.jsx)($.a,{children:t.cookTime})]}),Object(U.jsxs)(z.a,{sx:{display:"flex",alignContent:"center"},children:[Object(U.jsx)(lr.a,{color:"secondary",sx:{mr:1}}),Object(U.jsx)($.a,{children:t.servings})]})]})]})]})}function xr(e){var t=e.recipe,r=Object(o.i)().pathname.includes("discover");return Object(U.jsx)(_.a,{sx:{display:"flex",flexDirection:"column",mt:2,boxShadow:4},children:Object(U.jsx)(A.a,{component:er.b,to:"/recipe/".concat(t._id),variant:"text",sx:{display:"flex",justifyContent:"space-between",py:1.5},children:Object(U.jsxs)(N.a,{container:!0,children:[Object(U.jsx)(N.a,{item:!0,xs:12,md:8,children:Object(U.jsxs)(z.a,{sx:{display:"flex"},justifyContent:{xs:"space-between",md:"flex-start",alignItems:"center"},children:[Object(U.jsx)($.a,{variant:"h6",color:"primary",sx:{ml:1},children:t.recipeTitle}),r&&Object(U.jsxs)($.a,{variant:"body2",color:"backdrop.light",sx:{mr:1,display:"inline-block"},ml:{md:2},children:["Created by ",Object(U.jsx)($.a,{variant:"body2",component:"span",color:"primary",sx:{display:"inline-block"},children:t.creator})]})]})}),Object(U.jsx)(N.a,{item:!0,xs:12,md:4,sx:{alignItems:"center"},children:Object(U.jsxs)(z.a,{sx:{display:"flex",alignItems:"center"},justifyContent:{xs:"start",md:"space-between"},children:[Object(U.jsxs)(z.a,{sx:{display:"flex",flexWrap:"nowrap",alignItems:"center",flexGrow:1,ml:1},mr:{xs:3,md:0},children:[Object(U.jsx)(or.a,{color:"secondary"}),Object(U.jsx)($.a,{variant:"body1",color:"white",sx:{display:"flex",alignItems:"center",ml:1},children:t.cookTime})]}),Object(U.jsxs)(z.a,{sx:{display:"flex",mr:2},children:[Object(U.jsx)(lr.a,{color:"secondary"}),Object(U.jsx)($.a,{variant:"body1",sx:{color:"white",ml:1},children:t.servings})]})]})})]})})})}function Or(){var e=Object(m.d)((function(e){return e.global.myKitView})),t=Object(m.c)(),r=i.useState(0),n=Object(O.a)(r,2),c=n[0],a=n[1],s=Object(Xe.a)(Ze),d=s.loading,l=s.data,j=s.refetch;if(!at.loggedIn())return Object(U.jsx)(o.b,{to:"/discover"});var b=(null===l||void 0===l?void 0:l.me)||{};if(d)return Object(U.jsx)(ut,{});l.me.recipeKit.length&&l.me.savedRecipes.length||j();var p=Object.keys(b).length>0?Object(u.a)(b.recipeKit):[],x=Object.keys(b).length>0?Object(u.a)(b.savedRecipes):[];return Object(U.jsxs)(z.a,{mx:{xs:0,md:5,xl:20},children:[Object(U.jsxs)(z.a,{sx:{pt:2,display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:".4rem",borderBottom:1,borderColor:"divider"},children:[Object(U.jsx)(z.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:Object(U.jsx)($.a,{variant:"h4",fontWeight:"bold",color:"primary",children:"My Kit"})}),Object(U.jsx)(H.a,{onClick:function(){t(R())},children:e?Object(U.jsx)(ir.a,{}):Object(U.jsx)(ar.a,{})})]}),Object(U.jsx)(_.a,{sx:{width:"100%",mt:2},children:Object(U.jsxs)(tr.a,{value:c,onChange:function(e,t){a(t)},variant:"fullWidth",textColor:"secondary",indicatorColor:"secondary",children:[Object(U.jsx)(rr.a,{label:"My Recipes",sx:{fontSize:18,color:"backdrop.light"}}),Object(U.jsx)(rr.a,{label:"Forked Recipes",sx:{fontSize:18,color:"backdrop.light"}})]})}),0===c?Object(U.jsx)(z.a,{sx:{mt:2,borderTop:1,borderColor:"divider"},children:p.length>0?Object(U.jsx)(z.a,{children:e?Object(U.jsx)(st.a,{sx:{m:0,p:0,pt:0,pb:0},children:p.map((function(e){return Object(U.jsx)(z.a,{children:Object(U.jsx)(xr,{recipe:e},"".concat(e._id,"-row"))},e._id)}))}):Object(U.jsx)(N.a,{container:!0,mt:2,rowSpacing:2,columnSpacing:{xs:2,sm:2,md:3},children:p.map((function(e){return Object(U.jsx)(N.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(U.jsx)(ur,{recipe:e})},"".concat(e._id,"-grid"))}))})}):Object(U.jsx)(z.a,{sx:{mt:2,top:"auto",bottom:"auto",borderColor:"divider"},children:Object(U.jsxs)($.a,{variant:"h5",color:"white",sx:{textAlign:"center",flexGrow:1},children:["Looks awfully empty in here! Lets get started with adding ",Object(U.jsx)($.a,{component:er.b,to:"/new-recipe",variant:"h5",color:"secondary",children:"your very first recipe!"})]})})}):Object(U.jsx)(z.a,{sx:{mt:2,borderTop:1,borderColor:"divider"},children:x.length>0?Object(U.jsx)(z.a,{children:e?Object(U.jsx)(st.a,{sx:{m:0,p:0,pt:0,pb:0},children:x.map((function(e){return Object(U.jsx)(z.a,{children:Object(U.jsx)(xr,{recipe:e},"".concat(e._id,"-row"))},e._id)}))}):Object(U.jsx)(N.a,{container:!0,mt:2,rowSpacing:2,columnSpacing:{xs:2,sm:2,md:3},children:x.map((function(e){return Object(U.jsx)(N.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(U.jsx)(ur,{recipe:e})},"".concat(e._id,"-grid"))}))})}):Object(U.jsxs)(z.a,{mt:2,children:[Object(U.jsxs)($.a,{variant:"h5",color:"white",sx:{textAlign:"center",flexGrow:1},children:["Looks awfully empty in here! You can fork your very first recipe by clicking the ",Object(U.jsx)(Dt.a,{})," icon found on any recipe. Doing so will save that recipe to your Kit.  ",Object(U.jsx)($.a,{component:er.b,to:"/discover",variant:"h5",color:"secondary",children:"Discover recipes that others have shared!"})]}),Object(U.jsx)($.a,{variant:"h5",color:"white",sx:{textAlign:"center",flexGrow:1},children:"If you have recently Forked a recipe try refreshing if you don't see it."})]})})]})}var mr=r(306),gr=r(297),hr=r(300),fr=r(326);function vr(){var e={username:"",usernameError:!1,password:"",passwordError:!1,showPassword:!1,errorText:""},t=Object(i.useState)(e),r=Object(O.a)(t,2),c=r[0],a=r[1],s=Object(Se.a)(ze),o=Object(O.a)(s,1)[0],d=function(e){a(Object(n.a)(Object(n.a)({},c),{},Object(x.a)({},e.target.name,e.target.value)))},l=function(e){var t=e.username,r=e.password;t||r?a((function(e){return Object(n.a)(Object(n.a)({},e),{},{errorText:"error"})})):(a((function(e){return Object(n.a)(Object(n.a)({},e),{},{errorText:null})})),j())},j=function(){var t=Object(p.a)(b.a.mark((function t(){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o({variables:{Username:c.username,Password:c.password}});case 3:r=t.sent,at.login(r.data.login.token),r&&a(e),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Login Error",t.t0),t.t0.toString().includes("Incorrect credentials")&&a((function(e){return Object(n.a)(Object(n.a)({},e),{},{errorText:"credentials"})}));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(U.jsxs)(_.a,{component:"form",sx:{mt:2,padding:2,border:1,borderRadius:1,borderColor:"backdrop.dark",boxShadow:4},onSubmit:function(e){e.preventDefault();var t={username:!1,password:!1};c.username.length>0?(a((function(e){return Object(n.a)(Object(n.a)({},e),{},{usernameError:!1})})),t.username=!1):(a((function(e){return Object(n.a)(Object(n.a)({},e),{},{usernameError:!0})})),t.username=!0),c.password.length>=5?(a((function(e){return Object(n.a)(Object(n.a)({},e),{},{passwordError:!1})})),t.password=!1):(a((function(e){return Object(n.a)(Object(n.a)({},e),{},{passwordError:!0})})),t.password=!0),l(t)},children:[Object(U.jsxs)(z.a,{sx:{display:"flex"},children:[Object(U.jsx)($.a,{variant:"h5",sx:{fontWeight:"bold"},color:"primary",children:"Login"}),"error"===c.errorText?Object(U.jsx)($.a,{variant:"h6",color:"error",sx:{fontStyle:"italic"},children:"\xa0- Error!"}):"credentials"===c.errorText&&Object(U.jsx)($.a,{variant:"h6",color:"error",sx:{fontStyle:"italic"},children:"\xa0- Invalid username or password"})]}),Object(U.jsx)(M.a,{id:"username-required",label:"Username *",fullWidth:!0,name:"username",sx:{mt:2},value:c.username,error:c.usernameError||c.errorText,color:"backdrop",InputLabelProps:{color:"secondary"},onChange:d,autoComplete:"username"}),c.usernameError&&Object(U.jsx)($.a,{variant:"subtitle2",color:"error",sx:{mb:1},children:"Please provide a username"}),Object(U.jsxs)(mr.a,{sx:{mt:1},variant:"outlined",fullWidth:!0,children:[Object(U.jsx)(gr.a,{htmlFor:"password",color:"secondary",error:c.passwordError,children:"Password *"}),Object(U.jsx)(hr.a,{id:"password-required",type:c.showPassword?"text":"password",value:c.password,error:c.passwordError||c.errorText,name:"password",onChange:d,color:"backdrop",endAdornment:Object(U.jsx)(fr.a,{position:"end",children:Object(U.jsx)(H.a,{"aria-label":"toggle password visibility",onClick:function(){a(Object(n.a)(Object(n.a)({},c),{},{showPassword:!c.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",color:"backdrop",children:c.showPassword?Object(U.jsx)(Q.h,{}):Object(U.jsx)(Q.g,{})})}),label:"Password *"})]}),c.passwordError&&Object(U.jsx)($.a,{variant:"subtitle2",color:"error",sx:{mb:1},children:"Please provide a password"}),Object(U.jsxs)(z.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(U.jsx)(A.a,{component:er.b,to:"/signup",variant:"text",color:"primary",sx:{mt:2},children:"Signup instead"}),Object(U.jsx)(A.a,{type:"submit",variant:"contained",color:"primary",sx:{mt:2},children:"Login"})]})]})}function yr(){var e=Object(i.useState)({serverError:"",username:"",usernameError:"",email:"",emailError:"",password:"",passwordError:!1,showPassword:!1,errorText:!1}),t=Object(O.a)(e,2),r=t[0],c=t[1],a=Object(Se.a)(Pe),s=Object(O.a)(a,1)[0],o=function(e){return function(t){c(Object(n.a)(Object(n.a)({},r),{},Object(x.a)({},e,t.target.value)))}},d=function(e){var t=e.username,r=e.email,i=e.password;t||r||i?c((function(e){return Object(n.a)(Object(n.a)({},e),{},{errorText:!0})})):(c((function(e){return Object(n.a)(Object(n.a)({},e),{},{errorText:!1})})),l())},l=function(){var e=Object(p.a)(b.a.mark((function e(){var t,i,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({variables:{Username:r.username,Email:r.email,Password:r.password}});case 3:t=e.sent,i=t.data,a=i.addUser.token,at.login(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Signup error:",e.t0),e.t0.toString().includes("username")?(c((function(e){return Object(n.a)(Object(n.a)({},e),{},{usernameError:"duplicate"})})),c((function(e){return Object(n.a)(Object(n.a)({},e),{},{errorText:!0})}))):e.t0.toString().includes("email")&&(c((function(e){return Object(n.a)(Object(n.a)({},e),{},{emailError:"duplicate"})})),c((function(e){return Object(n.a)(Object(n.a)({},e),{},{errorText:!0})})));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(_.a,{component:"form",sx:{mt:2,padding:2,border:1,borderRadius:1,borderColor:"backdrop.dark",boxShadow:4},autoComplete:"true",onSubmit:function(e){e.preventDefault();var t={username:null,email:null,password:!1};r.username.length>0&&/^[\w.-]+$/.test(r.username)?(c((function(e){return Object(n.a)(Object(n.a)({},e),{},{usernameError:null})})),t.username=!1):(c((function(e){return Object(n.a)(Object(n.a)({},e),{},{usernameError:"validation"})})),t.username=!0),r.email.length>0&&/^([\w.-]+)@([\w.-]+)\.([a-z.]{2,6})$/.test(r.email)?(c((function(e){return Object(n.a)(Object(n.a)({},e),{},{emailError:null})})),t.email=!1):(c((function(e){return Object(n.a)(Object(n.a)({},e),{},{emailError:"validation"})})),t.email=!0),r.password.length>=5?(c((function(e){return Object(n.a)(Object(n.a)({},e),{},{passwordError:!1})})),t.password=!1):(c((function(e){return Object(n.a)(Object(n.a)({},e),{},{passwordError:!0})})),t.password=!0),d(t)},children:[Object(U.jsxs)(z.a,{sx:{display:"flex"},children:[Object(U.jsx)($.a,{variant:"h5",sx:{fontWeight:"bold"},color:"primary",children:"Signup"}),r.errorText&&Object(U.jsx)($.a,{variant:"h6",color:"error",sx:{fontStyle:"italic"},children:"\xa0- Error!"})]}),Object(U.jsx)(M.a,{id:"username-required",label:"Username *",value:r.username,fullWidth:!0,sx:{mt:2},error:r.usernameError,color:"backdrop",InputLabelProps:{color:"secondary"},onChange:o("username"),autoComplete:"new-username"}),"validation"===r.usernameError?Object(U.jsx)($.a,{variant:"subtitle2",color:"error",children:"Please provide a valid username"}):"duplicate"===r.usernameError&&Object(U.jsx)($.a,{variant:"subtitle2",color:"error",children:"Username already exists"}),Object(U.jsx)(M.a,{id:"email-required",label:"Email *",value:r.email,fullWidth:!0,sx:{mt:2},error:r.emailError,color:"backdrop",InputLabelProps:{color:"secondary"},onChange:o("email"),autoComplete:"new-password"}),"validation"===r.emailError?Object(U.jsx)($.a,{variant:"subtitle2",color:"error",children:"Please provide a valid email address"}):"duplicate"===r.emailError&&Object(U.jsx)($.a,{variant:"subtitle2",color:"error",children:"Email is already in use"}),Object(U.jsxs)(mr.a,{sx:{mt:2},variant:"outlined",fullWidth:!0,children:[Object(U.jsx)(gr.a,{htmlFor:"password",color:"secondary",error:r.passwordError,children:"Password *"}),Object(U.jsx)(hr.a,{id:"password-required",type:r.showPassword?"text":"password",value:r.password,error:r.passwordError,onChange:o("password"),color:"backdrop",endAdornment:Object(U.jsx)(fr.a,{position:"end",children:Object(U.jsx)(H.a,{"aria-label":"toggle password visibility",onClick:function(){c(Object(n.a)(Object(n.a)({},r),{},{showPassword:!r.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:r.showPassword?Object(U.jsx)(Q.h,{}):Object(U.jsx)(Q.g,{})})}),label:"Password *"})]}),r.passwordError?Object(U.jsx)($.a,{variant:"subtitle2",color:"error",children:"Error - Password must be a minimum of 5 characters"}):Object(U.jsx)($.a,{variant:"subtitle2",color:"grey",sx:{fontStyle:"italic"},children:"Password must be a minimum of 5 characters"}),Object(U.jsxs)(z.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(U.jsx)(A.a,{component:er.b,to:"/login",variant:"text",color:"primary",sx:{mt:2},children:"Login instead"}),Object(U.jsx)(A.a,{type:"submit",variant:"contained",color:"primary",sx:{mt:2},children:"Signup"})]})]})}function Ir(){return Object(U.jsxs)(z.a,{sx:{display:"flex",justifyContent:"center",mt:1},children:[Object(U.jsx)(z.a,{sx:{mr:2,pr:2,borderRight:1,borderColor:"backdrop.main"},children:Object(U.jsx)(A.a,{component:er.b,to:"/signup",variant:"text",color:"backdrop",size:"large",children:"Signup"})}),Object(U.jsx)(A.a,{component:er.b,to:"/login",variant:"text",color:"backdrop",size:"large",children:"Login"})]})}function wr(e){var t=e.page;return at.loggedIn()?Object(U.jsx)(o.b,{to:"/my-kit "}):Object(U.jsx)(z.a,{sx:{margin:0,position:"fixed",top:0,right:0,bottom:0,left:0,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(U.jsx)(N.a,{container:!0,justifyContent:"center",sx:{width:"100%",padding:2},children:Object(U.jsxs)(N.a,{item:!0,xs:12,sm:10,md:6,lg:4,xl:4,children:[Object(U.jsx)(er.b,{to:"/",style:{textDecoration:"none",color:"black"},children:Object(U.jsxs)($.a,{variant:"h2",component:"div",color:"primary",fontWeight:"bold",sx:{flexGrow:1,textAlign:"center",textShadow:"0px 4px 3px rgba(0,0,0,0.4), 0px 8px 13px rgba(0,0,0,0.1), 0px 18px 23px rgba(0,0,0,0.1)"},children:["Coo",Object(U.jsx)($.a,{component:"span",variant:"h2",color:"secondary",fontStyle:"italic",fontWeight:"bold",sx:{flexGrow:1},children:"Kit"})]})}),"/"===t&&Object(U.jsx)(Ir,{}),"login"===t&&Object(U.jsx)(vr,{}),"signup"===t&&Object(U.jsx)(yr,{})]})})})}function kr(){var e=Object(m.d)((function(e){return e.global.discoverView})),t=Object(m.c)(),r=Object(Xe.a)(tt),n=r.loading,i=r.data;if(n)return Object(U.jsx)(ut,{});var c=i.recipes||{};return Object(U.jsxs)(z.a,{mx:{xs:0,md:5,xl:20},children:[Object(U.jsxs)(z.a,{sx:{pt:2,display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:".4rem",borderBottom:1,borderColor:"divider"},children:[Object(U.jsx)($.a,{variant:"h4",fontWeight:"bold",color:"primary",children:"Discover Recipes"}),Object(U.jsx)(H.a,{onClick:function(){t(D())},children:e?Object(U.jsx)(ir.a,{}):Object(U.jsx)(ar.a,{})})]}),e?Object(U.jsx)(st.a,{sx:{m:0,p:0,pt:0,pb:0},children:c.map((function(e){return Object(U.jsx)(z.a,{children:Object(U.jsx)(xr,{recipe:e},"".concat(e._id,"-row"))},e._id)}))}):Object(U.jsx)(N.a,{container:!0,mt:2,rowSpacing:2,columnSpacing:{xs:2,sm:2,md:3},children:c.map((function(e){return Object(U.jsx)(N.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(U.jsx)(ur,{recipe:e})},"".concat(e._id,"-grid"))}))}),Object(U.jsxs)(N.a,{container:!0,children:[Object(U.jsx)(N.a,{item:!0,xs:12,md:6}),Object(U.jsx)(N.a,{item:!0,xs:12,md:6})]})]})}var Cr=r(284),Tr=r(299),Rr=r(285);function Dr(){var e=Object(m.c)(),t=at.loggedIn(),r=Object(o.i)().pathname.includes("new-recipe");return Object(U.jsx)(z.a,{sx:{flexGrow:1},children:Object(U.jsx)(q.a,{children:Object(U.jsxs)(B.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(U.jsx)(H.a,{size:"large",edge:"start",color:"light","aria-label":"menu",onClick:function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&e(E())},children:Object(U.jsx)(Q.e,{})}),t?Object(U.jsxs)($.a,{variant:"h3",component:er.b,to:"/my-kit",color:"primary",fontWeight:"bold",sx:{textDecoration:"none",flexGrow:1,textAlign:"center",textShadow:"0px 4px 3px rgba(0,0,0,0.4), 0px 8px 13px rgba(0,0,0,0.1), 0px 18px 23px rgba(0,0,0,0.1)"},children:["Coo",Object(U.jsx)($.a,{component:"span",variant:"h3",color:"secondary",fontStyle:"italic",fontWeight:"bold",sx:{flexGrow:1},children:"Kit"})]}):Object(U.jsxs)($.a,{variant:"h3",component:er.b,to:"/discover",color:"primary",fontWeight:"bold",sx:{textDecoration:"none",flexGrow:1,textAlign:"center",textShadow:"0px 4px 3px rgba(0,0,0,0.4), 0px 8px 13px rgba(0,0,0,0.1), 0px 18px 23px rgba(0,0,0,0.1)"},children:["Coo",Object(U.jsx)($.a,{component:"span",variant:"h3",color:"secondary",fontStyle:"italic",fontWeight:"bold",sx:{flexGrow:1},children:"Kit"})]}),r?Object(U.jsx)(H.a,{"aria-label":"add",disabled:!0,color:"light",children:Object(U.jsx)(Q.b,{size:25,style:{visibility:"hidden"}})}):Object(U.jsx)(H.a,{component:er.b,to:"/new-recipe","aria-label":"add",edge:"end",color:"light",children:Object(U.jsx)(Q.b,{})})]})})})}var Sr=r(327),Er=r(308),Pr=r(283),zr=r(328),Nr=r(329),$r=r(189),_r=r.n($r),qr=r(191),Br=r.n(qr),Ar=r(188),Lr=r.n(Ar),Wr=r(187),Vr=r.n(Wr),Gr=r(186),Fr=r(192),Ur=r.n(Fr),Kr=r(190),Mr=r.n(Kr);function Hr(){var e=Object(m.d)((function(e){return e.global.sideNavVisible})),t=Object(m.c)(),r=function(){return function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&t(E())}},n=Object(Xe.a)(et).data,i=(null===n||void 0===n?void 0:n.me)||{},c=at.loggedIn(),a=[{img:"https://i.pinimg.com/736x/16/27/b7/1627b7a21fffc3451299a03251c6b3fc.jpg",title:"delicious-food"}];return Object(U.jsx)(Sr.a,{anchor:"left",open:e,onClose:r(),variant:"temporary",ModalProps:{keepMounted:!0},children:Object(U.jsxs)(z.a,{sx:{width:250,display:"flex",flexDirection:"column",minHeight:"100vh"},role:"presentation",onClick:r(),onKeyDown:r(),children:[Object(U.jsxs)(z.a,{sx:{flexGrow:1,display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[Object(U.jsxs)(z.a,{children:[Object(U.jsxs)(st.a,{children:[Object(U.jsxs)(ot.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(U.jsx)(Gr.a,{style:{fontSize:28,flexGrow:1,marginRight:"8px"}}),Object(U.jsx)(dt.a,{children:Object(U.jsxs)($.a,{variant:"h4",color:"primary",fontWeight:"bold",sx:{m:0,p:0,textShadow:"0px 4px 3px rgba(0,0,0,0.4), 0px 8px 13px rgba(0,0,0,0.1), 0px 18px 23px rgba(0,0,0,0.1)"},children:["Coo",Object(U.jsx)($.a,{component:"span",variant:"h4",color:"secondary",fontStyle:"italic",fontWeight:"bold",children:"Kit"})]})})]}),c?Object(U.jsx)(ot.a,{children:Object(U.jsx)(dt.a,{children:Object(U.jsxs)($.a,{children:["Hello, ",i.username]})})}):""]}),Object(U.jsx)(lt.a,{}),Object(U.jsxs)(Er.a,{children:[Object(U.jsx)(A.a,{component:er.b,to:"/discover",variant:"text",sx:{mt:2},children:Object(U.jsxs)(Y.a,{sx:{display:"flex",alignItems:"center"},children:[Object(U.jsx)(Pr.a,{sx:{marginRight:".1rem"},children:Object(U.jsx)(Vr.a,{})}),Object(U.jsx)(dt.a,{children:Object(U.jsx)($.a,{variant:"h6",children:"Discover"})})]})}),c&&Object(U.jsxs)(z.a,{children:[Object(U.jsx)(A.a,{component:er.b,to:"/my-kit",variant:"text",sx:{mt:2},children:Object(U.jsxs)(Y.a,{sx:{display:"flex",alignItems:"center"},children:[Object(U.jsx)(Pr.a,{sx:{marginRight:".1rem",fontSize:21},children:Object(U.jsx)(Lr.a,{})}),Object(U.jsx)(dt.a,{children:Object(U.jsx)($.a,{variant:"h6",children:"My Kit"})})]})}),Object(U.jsx)(A.a,{component:er.b,to:"/new-recipe",variant:"text",sx:{mt:2},children:Object(U.jsxs)(Y.a,{sx:{display:"flex",alignItems:"center"},children:[Object(U.jsx)(Pr.a,{sx:{marginRight:".1rem"},children:Object(U.jsx)(_r.a,{})}),Object(U.jsx)(dt.a,{children:Object(U.jsx)($.a,{variant:"h6",children:"New Recipe"})})]})})]})]})]}),Object(U.jsx)(zr.a,{variant:"masonry",cols:1,gap:0,sx:{padding:0,margin:0},children:Object(U.jsx)(Nr.a,{sx:{boxShadow:"inset 0 7px 9px -7px rgba(0,0,0,0.65), inset 0 -7px 9px -7px rgba(0,0,0,0.65)"},children:Object(U.jsx)("img",{src:"".concat(a[0].img,"?w=248&fit=crop&auto=format"),alt:a[0].title,loading:"lazy",style:{opacity:".8"}})})})]}),Object(U.jsx)(Er.a,{children:c?Object(U.jsx)(A.a,{variant:"text",value:"Logout",onClick:function(){console.log("logout called"),at.logout()},size:"large",children:Object(U.jsxs)(Y.a,{sx:{display:"flex",alignItems:"center"},children:[Object(U.jsx)(Pr.a,{sx:{marginRight:".1rem",fontSize:20,fontWeight:"bold"},children:Object(U.jsx)(Mr.a,{})}),Object(U.jsx)(dt.a,{children:Object(U.jsx)($.a,{variant:"h6",children:"Logout"})})]})}):Object(U.jsxs)(z.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(U.jsx)(A.a,{component:er.b,to:"/login",variant:"text",value:"Login",children:Object(U.jsxs)(Y.a,{sx:{display:"flex",alignItems:"center"},children:[Object(U.jsx)(Pr.a,{sx:{marginRight:".1rem"},children:Object(U.jsx)(Br.a,{})}),Object(U.jsx)(dt.a,{children:"Login"})]})}),Object(U.jsx)(A.a,{component:er.b,to:"/signup",variant:"text",value:"Signup",children:Object(U.jsxs)(Y.a,{sx:{display:"flex",alignItems:"center"},children:[Object(U.jsx)(Pr.a,{sx:{marginRight:".1rem"},children:Object(U.jsx)(Ur.a,{})}),Object(U.jsx)(dt.a,{children:"Signup"})]})})]})})]})})}var Qr=r(193),Jr=r.n(Qr);function Yr(){return Object(U.jsxs)(z.a,{sx:{width:"100%",height:"calc(100vh - 55px)",pt:"calc(100vh - 80vh)",display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center"},children:[Object(U.jsx)(Jr.a,{sx:{fontSize:80},color:"backdrop"}),Object(U.jsx)($.a,{variant:"h4",sx:{textAlign:"center",pt:2},color:"backdrop.main",children:"Uh-oh! It appears what you are looking for can't be found here!"})]})}var Xr=function(){var e=Object(o.i)(),t=!(!e.pathname.includes("login")&&!e.pathname.includes("signup")&&"/"!==e.pathname);return Object(U.jsx)(Cr.a,{className:"App",sx:{minHeight:"100vh"},children:Object(U.jsxs)(Tr.a,{theme:l,children:[Object(U.jsx)(Rr.a,{}),Object(U.jsxs)("header",{children:[Object(U.jsx)(Hr,{}),!t&&Object(U.jsx)(Dr,{})]}),Object(U.jsx)(Cr.a,{sx:{px:2,pt:"55px",zIndex:1},children:Object(U.jsxs)(o.e,{children:[Object(U.jsx)(o.c,{exact:!0,path:"/",children:Object(U.jsx)(wr,{page:"/"})}),Object(U.jsx)(o.c,{exact:!0,path:"/new-recipe",component:We}),Object(U.jsx)(o.c,{exact:!0,path:"/recipe/:id",component:Et}),Object(U.jsx)(o.c,{exact:!0,path:"/recipe/:id/edit",component:Zt}),Object(U.jsx)(o.c,{exact:!0,path:"/my-kit",component:Or}),Object(U.jsx)(o.c,{exact:!0,path:"/discover",component:kr}),Object(U.jsx)(o.c,{exact:!0,path:"/login",children:Object(U.jsx)(wr,{page:"login"})}),Object(U.jsx)(o.c,{exact:!0,path:"/signup",children:Object(U.jsx)(wr,{page:"signup"})}),Object(U.jsx)(o.c,{component:Yr})]})}),Object(U.jsx)("footer",{})]})})},Zr=Object(g.a)({reducer:{global:P}}),en=r(195),tn=r(288),rn=r(289),nn=r(286),cn=r(194);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var an=Object(en.a)({uri:"/graphql"}),sn=Object(cn.a)((function(e,t){var r=t.headers,i=localStorage.getItem("id_token");return{headers:Object(n.a)(Object(n.a)({},r),{},{authorization:i?"Bearer ".concat(i):""})}})),on=new tn.a({link:sn.concat(an),cache:new rn.a});s.a.render(Object(U.jsx)(nn.a,{client:on,children:Object(U.jsx)(m.a,{store:Zr,children:Object(U.jsx)(er.a,{children:Object(U.jsx)(Xr,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},93:function(e,t,r){}},[[229,1,2]]]);
//# sourceMappingURL=main.76474912.chunk.js.map